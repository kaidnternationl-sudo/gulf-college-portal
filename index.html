<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0055A4;
            --primary-dark: #003366;
            --secondary-color: #FFD700;
            --accent-color: #00A86B;
            --success-color: #2e7d32;
            --warning-color: #f57c00;
            --error-color: #d32f2f;
            --gray-light: #f5f5f5;
            --gray-medium: #e0e0e0;
            --gray-dark: #666;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
        }
        
        /* ========== STEERER UI ========== */
        .stepper-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(0, 85, 164, 0.1);
        }
        
        .stepper {
            display: flex;
            justify-content: space-between;
            position: relative;
        }
        
        .stepper::before {
            content: '';
            position: absolute;
            top: 24px;
            right: 0;
            left: 0;
            height: 3px;
            background: var(--gray-medium);
            z-index: 1;
        }
        
        .step {
            position: relative;
            z-index: 2;
            text-align: center;
            flex: 1;
        }
        
        .step-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: 3px solid var(--gray-medium);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
            font-size: 18px;
            color: var(--gray-dark);
            transition: all 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        .step.active .step-circle {
            background: var(--primary-color);
            border-color: var(--primary-color);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 5px 15px rgba(0, 85, 164, 0.3);
        }
        
        .step.completed .step-circle {
            background: var(--accent-color);
            border-color: var(--accent-color);
            color: white;
        }
        
        .step.completed .step-circle::after {
            content: 'âœ“';
            font-size: 20px;
        }
        
        .step-label {
            font-size: 14px;
            color: var(--gray-dark);
            font-weight: 600;
        }
        
        .step.active .step-label {
            color: var(--primary-color);
            font-weight: 700;
        }
        
        /* ========== MAIN CONTENT ========== */
        .main-content {
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 85, 164, 0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 30px 40px;
            text-align: center;
            border-bottom: 8px solid var(--secondary-color);
            position: relative;
        }
        
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
            font-weight: 700;
        }
        
        .content {
            padding: 40px;
        }
        
        .step-content {
            display: none;
            animation: slideIn 0.5s ease;
        }
        
        .step-content.active {
            display: block;
        }
        
        /* ========== SMART WIDGET ========== */
        .smart-widget {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0, 85, 164, 0.15);
            position: sticky;
            top: 20px;
            height: fit-content;
        }
        
        .widget-header {
            background: linear-gradient(135deg, var(--accent-color), #00A86B);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .widget-header h3 {
            font-size: 20px;
            margin-bottom: 5px;
        }
        
        .calculator-widget {
            margin-top: 20px;
            padding: 20px;
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-radius: 10px;
            border: 2px solid #81c784;
        }
        
        .fee-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #81c784;
        }
        
        .fee-total {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid var(--accent-color);
            font-weight: bold;
            font-size: 18px;
            color: var(--primary-dark);
        }
        
        .eligibility-box {
            margin-top: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            border-radius: 10px;
            border: 2px solid #90caf9;
        }
        
        .eligibility-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            padding: 8px;
            border-radius: 5px;
            background: white;
        }
        
        .eligibility-item.eligible {
            border-right: 3px solid var(--success-color);
        }
        
        .eligibility-item.not-eligible {
            border-right: 3px solid var(--error-color);
        }
        
        /* ========== AI RECOMMENDATIONS ========== */
        .recommendation-box {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            border: 2px solid var(--warning-color);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            animation: pulse 2s infinite;
        }
        
        .recommendation-box h4 {
            color: var(--warning-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .recommendation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .recommendation-card {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid var(--primary-color);
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .recommendation-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 85, 164, 0.2);
        }
        
        /* ========== FORM STYLES ========== */
        .form-section {
            margin-bottom: 40px;
            border-bottom: 2px solid var(--gray-light);
            padding-bottom: 30px;
        }
        
        .form-section:last-of-type {
            border-bottom: none;
        }
        
        .section-title {
            color: var(--primary-dark);
            font-size: 22px;
            font-weight: 700;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary-dark);
            font-weight: 600;
            font-size: 15px;
        }
        
        .form-group label.required::after {
            content: ' *';
            color: var(--error-color);
            font-weight: bold;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 14px 18px;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            font-size: 15px;
            transition: all 0.3s ease;
            background: white;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 3px rgba(0, 85, 164, 0.15);
        }
        
        .input-with-icon {
            position: relative;
        }
        
        .input-icon {
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-dark);
        }
        
        /* ========== BUTTONS ========== */
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid var(--gray-light);
        }
        
        .btn {
            padding: 16px 35px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            box-shadow: 0 5px 15px rgba(0, 85, 164, 0.3);
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 85, 164, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #757575, #616161);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--accent-color), #2e7d32);
            color: white;
        }
        
        .btn-success:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(46, 125, 50, 0.4);
        }
        
        /* ========== ANIMATIONS ========== */
        @keyframes slideIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* ========== RESPONSIVE ========== */
        @media (max-width: 1200px) {
            .container {
                grid-template-columns: 1fr;
            }
            
            .smart-widget {
                position: static;
                margin-top: 30px;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 25px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .button-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* ========== SPECIAL EFFECTS ========== */
        .status-indicator {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: var(--primary-color);
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            font-size: 12px;
            z-index: 1000;
            box-shadow: 0 5px 15px rgba(0, 85, 164, 0.3);
            animation: fadeIn 0.5s ease;
        }
        
        .program-card {
            background: white;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .program-card:hover {
            border-color: var(--primary-color);
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 85, 164, 0.1);
        }
        
        .program-card.selected {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-color: var(--accent-color);
        }
        
        .program-card.disabled {
            opacity: 0.5;
            pointer-events: none;
            background: var(--gray-light);
        }
        
        .program-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .program-title {
            font-weight: 600;
            color: var(--primary-dark);
            font-size: 16px;
        }
        
        .program-details {
            display: flex;
            gap: 15px;
            font-size: 14px;
            color: var(--gray-dark);
        }
        
        .gpa-badge {
            background: var(--secondary-color);
            color: var(--primary-dark);
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: bold;
        }
        
        .validation-box {
            padding: 15px;
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            border-radius: 8px;
            margin: 15px 0;
            border-left: 4px solid var(--primary-color);
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .success-message {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            color: var(--success-color);
            padding: 40px;
            border-radius: 15px;
            text-align: center;
            display: none;
            animation: fadeIn 0.8s ease;
        }
        
        .success-message h2 {
            margin-bottom: 20px;
            font-size: 28px;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Main Content -->
        <div class="main-content">
            <div class="header">
                <h1><i class="fas fa-university"></i> Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬</h1>
                <p>Ù†Ø¸Ø§Ù… Ù…ØªØ·ÙˆØ± ÙŠØ­Ù„Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙˆÙŠÙˆØµÙŠ Ø¨Ø£ÙØ¶Ù„ Ø§Ù„ØªØ®ØµØµØ§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¤Ù‡Ù„Ø§ØªÙƒ</p>
            </div>
            
            <!-- Stepper -->
            <div class="stepper-container">
                <div class="stepper">
                    <div class="step active" data-step="1">
                        <div class="step-circle">1</div>
                        <div class="step-label">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</div>
                    </div>
                    <div class="step" data-step="2">
                        <div class="step-circle">2</div>
                        <div class="step-label">Ø§Ù„Ù…Ø¤Ù‡Ù„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</div>
                    </div>
                    <div class="step" data-step="3">
                        <div class="step-circle">3</div>
                        <div class="step-label">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ®ØµØµ</div>
                    </div>
                    <div class="step" data-step="4">
                        <div class="step-circle">4</div>
                        <div class="step-label">Ø§Ù„ØªØ£ÙƒÙŠØ¯ ÙˆØ§Ù„Ø¥Ø±Ø³Ø§Ù„</div>
                    </div>
                </div>
            </div>
            
            <!-- Content -->
            <div class="content">
                <!-- Step 1: Personal Information -->
                <div id="step1" class="step-content active">
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-user-circle"></i>
                            <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
                        </div>
                        
                        <div class="validation-box" id="idValidation">
                            <i class="fas fa-check-circle"></i>
                            <strong>Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ:</strong> Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ­Ø¯Ø¯ Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… ÙˆØ¬Ù†Ø³ÙŠØªÙ‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ Ù…Ù† Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</label>
                                <div class="input-with-icon">
                                    <input type="text" id="fullName" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„" required>
                                    <i class="fas fa-user input-icon"></i>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                <div class="input-with-icon">
                                    <input type="text" id="idNumber" placeholder="10 Ø£Ùˆ 11 Ø±Ù‚Ù…Ø§Ù‹" required>
                                    <i class="fas fa-id-card input-icon"></i>
                                </div>
                                <small id="idTypeInfo" style="color: var(--gray-dark); display: block; margin-top: 5px;"></small>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø¬Ù†Ø³</label>
                                <select id="gender" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³</option>
                                    <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
                                    <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                                <select id="nationality" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                                    <option value="Ø³Ø¹ÙˆØ¯ÙŠ">Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                    <option value="ØºÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠ">ØºÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</label>
                                <select id="applicantType" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†ÙˆØ¹</option>
                                    <option value="new">Ø®Ø±ÙŠØ¬ Ø«Ø§Ù†ÙˆÙŠ Ø¬Ø¯ÙŠØ¯</option>
                                    <option value="bridging">Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±</option>
                                    <option value="transfer">Ù…Ù†Ù‚ÙˆÙ„ Ù…Ù† Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰</option>
                                    <option value="international">Ø·Ø§Ù„Ø¨ Ø¯ÙˆÙ„ÙŠ</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                <div class="input-with-icon">
                                    <input type="email" id="email" placeholder="example@domain.com" required>
                                    <i class="fas fa-envelope input-icon"></i>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                                <div class="input-with-icon">
                                    <input type="tel" id="phone" placeholder="05XXXXXXXX" required>
                                    <i class="fas fa-phone input-icon"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendation-box" id="step1Recommendation" style="display: none;">
                        <h4><i class="fas fa-lightbulb"></i> ØªÙˆØ¬ÙŠÙ‡Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…</h4>
                        <p id="recommendationText1"></p>
                    </div>
                    
                    <div class="button-container">
                        <button class="btn btn-primary" onclick="nextStep()">
                            Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 2: Academic Information -->
                <div id="step2" class="step-content">
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Ø§Ù„Ù…Ø¤Ù‡Ù„ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</span>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</label>
                                <select id="qualificationType" required>
                                    <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">ØªØ®ØµØµ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</label>
                                <select id="specialization" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</label>
                                <div class="input-with-icon">
                                    <input type="number" id="gpa" min="50" max="100" step="0.01" placeholder="Ù…Ø«Ø§Ù„: 85.50" required>
                                    <i class="fas fa-chart-line input-icon"></i>
                                </div>
                                <small style="color: var(--gray-dark); display: block; margin-top: 5px;">
                                    Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„Ù…Ù†Ø®ÙØ¶ (Ø£Ù‚Ù„ Ù…Ù† 70) ÙŠÙØªØ­ Ø£Ø¨ÙˆØ§Ø¨ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠ
                                </small>
                            </div>
                            
                            <div class="form-group">
                                <label>Ø¯Ø±Ø¬Ø© Ø§Ù„Ù‚Ø¯Ø±Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                <div class="input-with-icon">
                                    <input type="number" id="aptitudeScore" min="0" max="100" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
                                    <i class="fas fa-brain input-icon"></i>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Bridging Fields -->
                        <div id="bridgingFields" style="display: none;">
                            <div class="form-section">
                                <div class="section-title">
                                    <i class="fas fa-bridge"></i>
                                    <span>Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±</span>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                                        <input type="text" id="bridgingUniversity" placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>ØªØ®ØµØµ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                        <input type="text" id="diplomaSpecialty" placeholder="Ø§Ù„ØªØ®ØµØµ">
                                    </div>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-group">
                                        <label>Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ù„</label>
                                        <select id="gpaSystem">
                                            <option value="5">Ù…Ù† 5</option>
                                            <option value="4">Ù…Ù† 4</option>
                                            <option value="100">Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</option>
                                        </select>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                        <input type="number" id="diplomaGPA" step="0.01" placeholder="Ù…Ø«Ø§Ù„: 3.75">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="recommendation-box" id="step2Recommendation" style="display: none;">
                        <h4><i class="fas fa-lightbulb"></i> ØªÙˆØµÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ù„Ùƒ</h4>
                        <div id="recommendationGrid" class="recommendation-grid"></div>
                    </div>
                    
                    <div class="button-container">
                        <button class="btn btn-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()">
                            Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 3: Program Selection -->
                <div id="step3" class="step-content">
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-university"></i>
                            <span>Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„ÙŠØ© ÙˆØ§Ù„ØªØ®ØµØµ</span>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</label>
                                <select id="studyType" required>
                                    <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</option>
                                    <option value="Ù…Ù†ØªØ¸Ù…">Ù…Ù†ØªØ¸Ù… (Ø­Ø¶ÙˆØ±ÙŠ)</option>
                                    <option value="Ø¹Ù† Ø¨Ø¹Ø¯">ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯</option>
                                    <option value="Ù…Ø¯Ù…Ø¬">ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬</option>
                                </select>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</label>
                                <select id="studySystem" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†Ø¸Ø§Ù…</option>
                                    <option value="ÙØµÙˆÙ„">Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµÙˆÙ„</option>
                                    <option value="Ø³Ø§Ø¹Ø§Øª">Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="required">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</label>
                            <select id="collegeSelect" required>
                                <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹</option>
                            </select>
                        </div>
                        
                        <div id="programsContainer">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡Ø§ -->
                        </div>
                    </div>
                    
                    <div class="button-container">
                        <button class="btn btn-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button class="btn btn-primary" onclick="nextStep()">
                            Ø§Ù„ØªØ§Ù„ÙŠ <i class="fas fa-arrow-left"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Step 4: Review and Submit -->
                <div id="step4" class="step-content">
                    <!-- FormSubmit Form (Hidden) -->
                    <form id="formsubmitForm" action="https://formsubmit.co/8f907260-fc10-46e0-b5b6-422b56f45c19" method="POST" style="display: none;">
                        <input type="hidden" name="_captcha" value="false">
                        <input type="hidden" name="_subject" value="Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬">
                        <input type="hidden" name="_template" value="table">
                        <input type="hidden" name="_autoresponse" value="Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙ‚Ø¯ÙŠÙ…Ùƒ Ø·Ù„Ø¨ Ø§Ù„Ø§Ù„ØªØ­Ø§Ù‚ Ø¨ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬. Ø³Ù†ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù‚Ø±ÙŠØ¨Ø§Ù‹.">
                        <input type="hidden" name="Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„">
                        <input type="hidden" name="Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©">
                        <input type="hidden" name="Ø§Ù„Ø¬Ù†Ø³">
                        <input type="hidden" name="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©">
                        <input type="hidden" name="Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…">
                        <input type="hidden" name="Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ">
                        <input type="hidden" name="Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„">
                        <input type="hidden" name="Ù†ÙˆØ¹_Ø§Ù„Ù…Ø¤Ù‡Ù„">
                        <input type="hidden" name="ØªØ®ØµØµ_Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©">
                        <input type="hidden" name="Ø§Ù„Ù…Ø¹Ø¯Ù„_Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ">
                        <input type="hidden" name="Ø¯Ø±Ø¬Ø©_Ø§Ù„Ù‚Ø¯Ø±Ø§Øª">
                        <input type="hidden" name="Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©">
                        <input type="hidden" name="Ù†Ø¸Ø§Ù…_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©">
                        <input type="hidden" name="Ø§Ù„ÙƒÙ„ÙŠØ©">
                        <input type="hidden" name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ù…Ø®ØªØ§Ø±">
                        <input type="hidden" name="Ù…Ø¯Ø©_Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬">
                        <input type="hidden" name="Ø§Ù„Ø³Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©">
                        <input type="hidden" name="Ù†Ø³Ø¨Ø©_Ø§Ù„Ù…Ù†Ø­Ø©">
                        <input type="hidden" name="Ø§Ù„Ø±Ø³ÙˆÙ…_Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©">
                        <input type="hidden" name="Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©_Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©">
                        <input type="hidden" name="ØªØ®ØµØµ_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…">
                        <input type="hidden" name="Ù…Ø¹Ø¯Ù„_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…">
                        <input type="hidden" name="Ø±Ù‚Ù…_Ø§Ù„Ø·Ù„Ø¨">
                        <input type="hidden" name="ÙˆÙ‚Øª_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…">
                    </form>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-clipboard-check"></i>
                            <span>Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø·Ù„Ø¨</span>
                        </div>
                        
                        <div id="reviewData" style="padding: 20px; background: var(--gray-light); border-radius: 10px; margin-bottom: 30px;">
                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© -->
                        </div>
                        
                        <div class="form-section">
                            <div class="section-title">
                                <i class="fas fa-file-signature"></i>
                                <span>Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</span>
                            </div>
                            
                            <div style="padding: 20px; background: #f9f9f9; border-radius: 10px; border: 2px solid var(--gray-medium);">
                                <div style="display: flex; gap: 15px; margin-bottom: 20px;">
                                    <input type="checkbox" id="termsAgreement" style="width: auto;" required>
                                    <label for="termsAgreement" style="margin: 0; color: var(--primary-dark); line-height: 1.6;">
                                        Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…ØŒ ÙˆØ£Ù‚Ø± Ø¨ØµØ¯Ù‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© ÙˆØ£ØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø¹Ù† Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©.
                                    </label>
                                </div>
                                
                                <div style="display: flex; gap: 15px;">
                                    <input type="checkbox" id="paymentAgreement" style="width: auto;">
                                    <label for="paymentAgreement" style="margin: 0; color: var(--primary-dark); line-height: 1.6;">
                                        Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø£Ù† Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ© Ø³ØªØ¯ÙØ¹ ÙˆÙÙ‚Ø§Ù‹ Ù„Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø²Ù…Ù†ÙŠ Ø§Ù„Ù…Ø¹ØªÙ…Ø¯ Ù…Ù† Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©.
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="success-message" id="successMessage">
                        <i class="fas fa-check-circle" style="font-size: 60px; margin-bottom: 20px;"></i>
                        <h2>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                        <p style="margin-bottom: 15px; font-size: 18px;">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: <strong id="applicationNumber"></strong></p>
                        <p style="color: var(--gray-dark);">Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø®Ù„Ø§Ù„ 48 Ø³Ø§Ø¹Ø© Ø¹Ù…Ù„</p>
                        <button class="btn btn-success" onclick="location.reload()" style="margin-top: 30px;">
                            <i class="fas fa-redo"></i> ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                        </button>
                    </div>
                    
                    <div class="button-container">
                        <button class="btn btn-secondary" onclick="prevStep()">
                            <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button class="btn btn-success" onclick="submitApplication()" id="submitBtn">
                            <i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Smart Widget -->
        <div class="smart-widget">
            <div class="widget-header">
                <h3><i class="fas fa-calculator"></i> Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø³ÙˆÙ…</h3>
                <p>ØªØ­Ù„ÙŠÙ„ ÙÙˆØ±ÙŠ Ù„Ù„Ø±Ø³ÙˆÙ… ÙˆØ§Ù„Ø£Ù‡Ù„ÙŠØ©</p>
            </div>
            
            <div class="calculator-widget">
                <h4 style="color: var(--primary-dark); margin-bottom: 15px;">ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø±Ø³ÙˆÙ…</h4>
                <div class="fee-item">
                    <span>Ø±Ø³ÙˆÙ… Ø§Ù„Ø³Ø§Ø¹Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</span>
                    <span id="hourlyFee">0 Ø±ÙŠØ§Ù„</span>
                </div>
                <div class="fee-item">
                    <span>Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ø±</span>
                    <span id="estimatedHours">0 Ø³Ø§Ø¹Ø©</span>
                </div>
                <div class="fee-item">
                    <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªØ³Ø¬ÙŠÙ„</span>
                    <span id="registrationFee">500 Ø±ÙŠØ§Ù„</span>
                </div>
                <div class="fee-item">
                    <span>Ø±Ø³ÙˆÙ… Ø§Ù„ØªÙ‚Ù†ÙŠØ© (Ø¹Ù† Ø¨Ø¹Ø¯)</span>
                    <span id="techFee">0 Ø±ÙŠØ§Ù„</span>
                </div>
                <div class="fee-total">
                    <span>Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
                    <span id="totalFee">0 Ø±ÙŠØ§Ù„</span>
                </div>
            </div>
            
            <div class="eligibility-box">
                <h4 style="color: var(--primary-dark); margin-bottom: 15px;">ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø£Ù‡Ù„ÙŠØ©</h4>
                <div id="eligibilityStatus">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹ -->
                </div>
            </div>
            
            <div style="margin-top: 25px; padding: 15px; background: linear-gradient(135deg, #fff3e0, #fff8e1); border-radius: 10px;">
                <h4 style="color: var(--warning-color); margin-bottom: 10px;">
                    <i class="fas fa-clock"></i> Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ù…Ø¨ÙƒØ±
                </h4>
                <p style="font-size: 14px; color: var(--gray-dark);">
                    Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù‚Ø¨Ù„ 30/06 ÙŠØ¤Ù‡Ù„Ùƒ Ù„Ø®ØµÙ… 10% Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©
                </p>
            </div>
        </div>
    </div>
    
    <!-- Status Indicator -->
    <div class="status-indicator" id="statusIndicator">
        <i class="fas fa-sync-alt"></i> Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¹Ù…Ù„...
    </div>

    <script>
    // ============ STATE MANAGEMENT ENGINE ============
    const State = {
        currentStep: 1,
        applicantType: 'new',
        gender: '',
        nationality: '',
        gpa: 0,
        studyType: '',
        selectedProgram: null,
        selectedCollege: null,
        
        // Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ù…Ø¹Ø±ÙÙŠØ© Ù„Ù„ØªØ®ØµØµØ§Øª
        knowledgeBase: {
            colleges: [
                {
                    id: 1,
                    name: "ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©",
                    minGPA: 60,
                    hourPrice: 350,
                    programs: [
                        { id: 101, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„", minGPA: 65, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging', 'transfer'], scholarship: 5 },
                        { id: 102, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©", minGPA: 70, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging', 'transfer'], scholarship: 10 },
                        { id: 103, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„", minGPA: 60, duration: 2, credits: 60, gender: 'both', availableFor: ['new'], scholarship: 0 },
                        { id: 104, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©", minGPA: 60, duration: 2, credits: 60, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 0 }
                    ]
                },
                {
                    id: 2,
                    name: "ÙƒÙ„ÙŠØ© Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª",
                    minGPA: 70,
                    hourPrice: 400,
                    programs: [
                        { id: 201, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨", minGPA: 75, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging', 'transfer'], scholarship: 15 },
                        { id: 202, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ", minGPA: 80, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 20 },
                        { id: 203, name: "Ø¯Ø¨Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª", minGPA: 65, duration: 2, credits: 60, gender: 'both', availableFor: ['new'], scholarship: 0 },
                        { id: 204, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø§Ø³Ø¨", minGPA: 65, duration: 2, credits: 60, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 0 }
                    ]
                },
                {
                    id: 3,
                    name: "ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©",
                    minGPA: 80,
                    hourPrice: 450,
                    programs: [
                        { id: 301, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©", minGPA: 85, duration: 5, credits: 150, gender: 'Ø°ÙƒØ±', availableFor: ['new', 'transfer'], scholarship: 25 },
                        { id: 302, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©", minGPA: 85, duration: 5, credits: 150, gender: 'Ø°ÙƒØ±', availableFor: ['new', 'transfer'], scholarship: 25 },
                        { id: 303, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©", minGPA: 70, duration: 2, credits: 60, gender: 'Ø°ÙƒØ±', availableFor: ['new', 'bridging'], scholarship: 0 },
                        { id: 304, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©", minGPA: 70, duration: 2, credits: 60, gender: 'Ø°ÙƒØ±', availableFor: ['new', 'bridging'], scholarship: 0 }
                    ]
                },
                {
                    id: 4,
                    name: "ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© ÙˆØ§Ù„ØµØ­ÙŠØ©",
                    minGPA: 85,
                    hourPrice: 500,
                    programs: [
                        { id: 401, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªÙ…Ø±ÙŠØ¶", minGPA: 80, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 30 },
                        { id: 402, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªÙ…Ø±ÙŠØ¶", minGPA: 75, duration: 2, credits: 60, gender: 'both', availableFor: ['new'], scholarship: 0 },
                        { id: 403, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©", minGPA: 85, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 20 },
                        { id: 404, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØµÙŠØ¯Ù„Ø©", minGPA: 75, duration: 2, credits: 60, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 0 }
                    ]
                },
                {
                    id: 5,
                    name: "ÙƒÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†",
                    minGPA: 75,
                    hourPrice: 380,
                    programs: [
                        { id: 501, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†", minGPA: 75, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging', 'transfer'], scholarship: 10 },
                        { id: 502, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©", minGPA: 65, duration: 2, credits: 60, gender: 'both', availableFor: ['new'], scholarship: 0 },
                        { id: 503, name: "Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± ÙÙŠ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†", minGPA: 70, duration: 2, credits: 60, gender: 'both', availableFor: ['bridging'], scholarship: 5 }
                    ]
                },
                {
                    id: 6,
                    name: "ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©",
                    minGPA: 80,
                    hourPrice: 420,
                    programs: [
                        { id: 601, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©", minGPA: 85, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 20 },
                        { id: 602, name: "Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ", minGPA: 85, duration: 4, credits: 120, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 20 },
                        { id: 603, name: "Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©", minGPA: 70, duration: 2, credits: 60, gender: 'both', availableFor: ['new', 'bridging'], scholarship: 0 }
                    ]
                }
            ]
        },
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ·Ø©
        updateRequiredFields() {
            const applicantType = document.getElementById('applicantType').value;
            const bridgingFields = document.getElementById('bridgingFields');
            
            if (applicantType === 'bridging') {
                bridgingFields.style.display = 'block';
                // Ø¬Ø¹Ù„ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¥Ù„Ø²Ø§Ù…ÙŠØ©
                ['bridgingUniversity', 'diplomaSpecialty', 'diplomaGPA'].forEach(field => {
                    const el = document.getElementById(field);
                    if (el) el.required = true;
                });
            } else {
                bridgingFields.style.display = 'none';
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ù„Ø²Ø§Ù…ÙŠØ©
                ['bridgingUniversity', 'diplomaSpecialty', 'diplomaGPA'].forEach(field => {
                    const el = document.getElementById(field);
                    if (el) el.required = false;
                });
            }
        },
        
        // ØªØ­Ù„ÙŠÙ„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©
        analyzeIdNumber(id) {
            if (!id) return;
            
            const idTypeInfo = document.getElementById('idTypeInfo');
            if (id.startsWith('1')) {
                document.getElementById('nationality').value = 'Ø³Ø¹ÙˆØ¯ÙŠ';
                idTypeInfo.innerHTML = '<i class="fas fa-check-circle" style="color: green;"></i> ØªÙ… Ø§Ù„ØªØ¹Ø±Ù: Ù‡ÙˆÙŠØ© Ø³Ø¹ÙˆØ¯ÙŠØ©';
            } else if (id.startsWith('2')) {
                document.getElementById('nationality').value = 'ØºÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠ';
                idTypeInfo.innerHTML = '<i class="fas fa-info-circle" style="color: orange;"></i> ØªÙ… Ø§Ù„ØªØ¹Ø±Ù: Ø¥Ù‚Ø§Ù…Ø©';
            }
        }
    };

    // ============ ADMISSION ENGINE ============
    class AdmissionEngine {
        constructor() {
            this.initializeSystem();
        }
        
        initializeSystem() {
            console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙŠØ¹Ù…Ù„...');
            this.loadQualifications();
            this.loadSpecializations();
            this.loadColleges();
            this.setupEventListeners();
            this.updateStatusIndicator('Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø²');
        }
        
        loadQualifications() {
            const qualifications = [
                'Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø© - Ø¹Ù„Ù…ÙŠ',
                'Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø© - Ø£Ø¯Ø¨ÙŠ',
                'Ø«Ø§Ù†ÙˆÙŠØ© ØªØ¬Ø§Ø±ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© ØµÙ†Ø§Ø¹ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© Ø²Ø±Ø§Ø¹ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© ÙÙ†Ø¯Ù‚ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© ØµØ­ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© Ø´Ø±Ø¹ÙŠØ©',
                'Ø«Ø§Ù†ÙˆÙŠØ© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†',
                'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„ØªÙ‚Ù†ÙŠØ©'
            ];
            
            const select = document.getElementById('qualificationType');
            qualifications.forEach(q => {
                const option = document.createElement('option');
                option.value = q;
                option.textContent = q;
                select.appendChild(option);
            });
        }
        
        loadSpecializations() {
            const specializations = {
                'Ø§Ù„Ø¹Ù„Ù…ÙŠ': ['Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ', 'Ù‡Ù†Ø¯Ø³ÙŠ', 'Ø£Ø­ÙŠØ§Ø¡', 'ÙƒÙŠÙ…ÙŠØ§Ø¡', 'ÙÙŠØ²ÙŠØ§Ø¡'],
                'Ø§Ù„Ø£Ø¯Ø¨ÙŠ': ['Ø¥Ø¯Ø§Ø±ÙŠ', 'Ù‚Ø§Ù†ÙˆÙ†ÙŠ', 'Ø´Ø±Ø¹ÙŠ', 'Ù„ØºØ§Øª', 'Ø¹Ù„ÙˆÙ… Ø¥Ù†Ø³Ø§Ù†ÙŠØ©'],
                'Ø§Ù„ØªÙ‚Ù†ÙŠ': ['ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§', 'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', 'Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ', 'Ø¨Ù†Ø§Ø¡'],
                'Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ': ['Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„', 'Ù…Ø­Ø§Ø³Ø¨Ø©', 'Ø³ÙƒØ±ØªØ§Ø±ÙŠØ©', 'ØªØ³ÙˆÙŠÙ‚'],
                'Ø§Ù„ØµØ­ÙŠ': ['ØªÙ…Ø±ÙŠØ¶', 'ØµÙŠØ¯Ù„Ø©', 'Ù…Ø®ØªØ¨Ø±Ø§Øª', 'Ø£Ø´Ø¹Ø©', 'Ø¥Ø³Ø¹Ø§Ù']
            };
            
            const select = document.getElementById('specialization');
            for (const category in specializations) {
                const optgroup = document.createElement('optgroup');
                optgroup.label = category;
                
                specializations[category].forEach(spec => {
                    const option = document.createElement('option');
                    option.value = spec;
                    option.textContent = spec;
                    optgroup.appendChild(option);
                });
                
                select.appendChild(optgroup);
            }
        }
        
        loadColleges() {
            const select = document.getElementById('collegeSelect');
            State.knowledgeBase.colleges.forEach(college => {
                const option = document.createElement('option');
                option.value = college.id;
                option.textContent = college.name;
                select.appendChild(option);
            });
        }
        
        setupEventListeners() {
            // ØªØ­Ù„ÙŠÙ„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©
            document.getElementById('idNumber').addEventListener('input', (e) => {
                State.analyzeIdNumber(e.target.value);
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ·Ø©
            document.getElementById('applicantType').addEventListener('change', (e) => {
                State.applicantType = e.target.value;
                State.updateRequiredFields();
                this.updateStep1Recommendation();
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¹Ø¯Ù„ ÙˆØ§Ù„ØªÙˆØµÙŠØ§Øª
            document.getElementById('gpa').addEventListener('input', (e) => {
                State.gpa = parseFloat(e.target.value) || 0;
                this.updateStep2Recommendation();
                this.updateFeesCalculator();
                this.updateEligibility();
            });
            
            // ØªØ­Ø¯ÙŠØ« Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©
            document.getElementById('studyType').addEventListener('change', (e) => {
                State.studyType = e.target.value;
                this.updateFeesCalculator();
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„ÙŠØ©
            document.getElementById('collegeSelect').addEventListener('change', (e) => {
                this.loadRecommendedPrograms(e.target.value);
            });
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ù†Ø³
            document.getElementById('gender').addEventListener('change', (e) => {
                State.gender = e.target.value;
                this.updateStep1Recommendation();
                this.updateEligibility();
            });
        }
        
        updateStep1Recommendation() {
            const recommendation = document.getElementById('step1Recommendation');
            let text = '';
            
            if (State.applicantType === 'bridging') {
                text = 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± Ù…Ù†Ø§Ø³Ø¨ Ù„Ùƒ Ø¥Ø°Ø§ ÙƒØ§Ù† Ù„Ø¯ÙŠÙƒ Ø¯Ø¨Ù„ÙˆÙ… ÙÙŠ Ù…Ø¬Ø§Ù„ Ø°ÙŠ ØµÙ„Ø©. Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø®ØµÙ… 5-10% Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø³ÙˆÙ….';
            } else if (State.applicantType === 'transfer') {
                text = 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù†Ù‚Ù„ ÙŠØªØ·Ù„Ø¨ Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„Ø³Ø§Ø¹Ø§Øª. Ø³ÙŠØªÙ… Ø§Ø­ØªØ³Ø§Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ùƒ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ.';
            } else if (State.applicantType === 'international') {
                text = 'Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¯ÙˆÙ„ÙŠÙˆÙ† ÙŠØªØ·Ù„Ø¨ÙˆÙ† ØªØµØ±ÙŠØ­ Ø¥Ù‚Ø§Ù…Ø© Ø³Ø§Ø±ÙŠ Ø§Ù„Ù…ÙØ¹ÙˆÙ„. Ø§Ù„Ø±Ø³ÙˆÙ… Ø£Ø¹Ù„Ù‰ Ø¨Ù†Ø³Ø¨Ø© 20%.';
            } else {
                text = 'ÙƒØ®Ø±ÙŠØ¬ Ø«Ø§Ù†ÙˆÙŠ Ø¬Ø¯ÙŠØ¯ØŒ Ø£Ù†Øª Ù…Ø¤Ù‡Ù„ Ù„Ø¬Ù…ÙŠØ¹ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ ÙˆØ§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªÙŠ ØªÙ†Ø§Ø³Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ.';
            }
            
            document.getElementById('recommendationText1').textContent = text;
            recommendation.style.display = 'block';
        }
        
        updateStep2Recommendation() {
            const gpa = State.gpa;
            const recommendation = document.getElementById('step2Recommendation');
            const grid = document.getElementById('recommendationGrid');
            
            if (gpa < 60) {
                recommendation.style.display = 'none';
                return;
            }
            
            recommendation.style.display = 'block';
            grid.innerHTML = '';
            
            let recommendations = [];
            
            if (gpa >= 90) {
                recommendations = [
                    { title: 'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 25%', icon: 'fas fa-cogs', color: '#0055A4' },
                    { title: 'Ø§Ù„Ø·Ø¨ ÙˆØ§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØµØ­ÙŠØ©', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 30%', icon: 'fas fa-heartbeat', color: '#d32f2f' },
                    { title: 'Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 20%', icon: 'fas fa-shield-alt', color: '#00A86B' },
                    { title: 'Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ù…ÙŠØ²Ø©', desc: 'Ø¬Ù…ÙŠØ¹ Ø§Ù„ØªØ®ØµØµØ§Øª Ù…ØªØ§Ø­Ø©', icon: 'fas fa-medal', color: '#FFD700' }
                ];
            } else if (gpa >= 80) {
                recommendations = [
                    { title: 'Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 15%', icon: 'fas fa-laptop-code', color: '#0055A4' },
                    { title: 'Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 10%', icon: 'fas fa-chart-line', color: '#00A86B' },
                    { title: 'Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³', desc: 'Ù…Ø¹Ø¸Ù… Ø§Ù„ØªØ®ØµØµØ§Øª Ù…ØªØ§Ø­Ø©', icon: 'fas fa-graduation-cap', color: '#f57c00' },
                    { title: 'Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ù†Ø¯Ø©', desc: 'Ù…ØªØ§Ø­ Ù…Ø¹ Ù…Ù†Ø­Ø© 20%', icon: 'fas fa-user-md', color: '#d32f2f' }
                ];
            } else if (gpa >= 70) {
                recommendations = [
                    { title: 'Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©', desc: 'Ù…Ø³Ø§Ø± Ø³Ø±ÙŠØ¹ Ù„Ù„ØªÙˆØ¸ÙŠÙ', icon: 'fas fa-certificate', color: '#0055A4' },
                    { title: 'Ø§Ù„ØªØ¬Ø³ÙŠØ± Ù„Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³', desc: 'Ù…Ø³Ø§Ø± Ù„Ù„ØªØ±Ù‚ÙŠØ©', icon: 'fas fa-bridge', color: '#00A86B' },
                    { title: 'Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©', desc: 'Ø·Ù„Ø¨ ÙƒØ¨ÙŠØ± ÙÙŠ Ø³ÙˆÙ‚ Ø§Ù„Ø¹Ù…Ù„', icon: 'fas fa-tools', color: '#f57c00' },
                    { title: 'Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', desc: 'ÙØ±Øµ ÙˆØ¸ÙŠÙÙŠØ© ÙˆØ§Ø³Ø¹Ø©', icon: 'fas fa-briefcase', color: '#757575' }
                ];
            } else {
                recommendations = [
                    { title: 'Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠØ©', desc: 'ØªØ£Ù‡ÙŠÙ„ Ø³Ø±ÙŠØ¹ Ù„Ù„Ø¹Ù…Ù„', icon: 'fas fa-hammer', color: '#0055A4' },
                    { title: 'Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ', desc: 'Ø´Ù‡Ø§Ø¯Ø§Øª Ù…Ø¹ØªÙ…Ø¯Ø©', icon: 'fas fa-user-graduate', color: '#00A86B' },
                    { title: 'Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©', desc: 'ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª', icon: 'fas fa-hands-helping', color: '#f57c00' },
                    { title: 'ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª', desc: 'Ø¯ÙˆØ±Ø§Øª ØªØ£Ù‡ÙŠÙ„ÙŠØ©', icon: 'fas fa-chart-line', color: '#757575' }
                ];
            }
            
            recommendations.forEach(rec => {
                const card = document.createElement('div');
                card.className = 'recommendation-card';
                card.innerHTML = `
                    <i class="${rec.icon}" style="font-size: 24px; color: ${rec.color}; margin-bottom: 10px;"></i>
                    <div style="font-weight: 600; color: ${rec.color};">${rec.title}</div>
                    <div style="font-size: 12px; color: var(--gray-dark); margin-top: 5px;">${rec.desc}</div>
                `;
                grid.appendChild(card);
            });
        }
        
        loadRecommendedPrograms(collegeId) {
            const container = document.getElementById('programsContainer');
            container.innerHTML = '';
            
            const college = State.knowledgeBase.colleges.find(c => c.id == collegeId);
            if (!college) return;
            
            const gpa = State.gpa || 0;
            const gender = State.gender;
            const applicantType = State.applicantType;
            
            college.programs.forEach(program => {
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù‡Ù„ÙŠØ©
                const isEligible = gpa >= program.minGPA;
                const genderMatch = program.gender === 'both' || program.gender === gender;
                const typeMatch = program.availableFor.includes(applicantType);
                
                const card = document.createElement('div');
                card.className = `program-card ${isEligible && genderMatch && typeMatch ? '' : 'disabled'}`;
                card.dataset.programId = program.id;
                
                card.innerHTML = `
                    <div class="program-header">
                        <div class="program-title">${program.name}</div>
                        <div class="gpa-badge">${program.minGPA}%</div>
                    </div>
                    <div class="program-details">
                        <span><i class="fas fa-clock"></i> ${program.duration} Ø³Ù†ÙˆØ§Øª</span>
                        <span><i class="fas fa-book"></i> ${program.credits} Ø³Ø§Ø¹Ø©</span>
                        <span><i class="fas fa-money-bill-wave"></i> ${program.scholarship}% Ù…Ù†Ø­Ø©</span>
                    </div>
                `;
                
                if (isEligible && genderMatch && typeMatch) {
                    card.addEventListener('click', () => this.selectProgram(program, college));
                }
                
                container.appendChild(card);
            });
        }
        
        selectProgram(program, college) {
            State.selectedProgram = program;
            State.selectedCollege = college;
            
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø³Ø§Ø¨Ù‚
            document.querySelectorAll('.program-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ
            const selectedCard = document.querySelector(`[data-program-id="${program.id}"]`);
            selectedCard.classList.add('selected');
            
            this.updateFeesCalculator();
            this.updateEligibility();
        }
        
        updateFeesCalculator() {
            if (!State.selectedProgram || !State.selectedCollege) return;
            
            const program = State.selectedProgram;
            const college = State.selectedCollege;
            const studyType = State.studyType;
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³Ø§Ø¹Ø§Øª
            let hours = program.credits;
            if (State.applicantType === 'bridging') {
                hours = Math.max(60, program.credits - 60);
            } else if (State.applicantType === 'transfer') {
                hours = Math.max(30, program.credits - 90);
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø±Ø³ÙˆÙ…
            let hourlyFee = college.hourPrice;
            let registrationFee = 500;
            let techFee = studyType === 'Ø¹Ù† Ø¨Ø¹Ø¯' ? 1000 : 0;
            
            // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø®ØµÙ… Ø§Ù„Ù…Ø¨ÙƒØ±
            const earlyDiscount = new Date().getMonth() <= 5 ? 0.1 : 0;
            const scholarshipDiscount = program.scholarship / 100;
            const totalDiscount = earlyDiscount + scholarshipDiscount;
            
            const totalFee = (hours * hourlyFee + registrationFee + techFee) * (1 - totalDiscount);
            
            // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
            document.getElementById('hourlyFee').textContent = `${hourlyFee} Ø±ÙŠØ§Ù„`;
            document.getElementById('estimatedHours').textContent = `${hours} Ø³Ø§Ø¹Ø©`;
            document.getElementById('registrationFee').textContent = `${registrationFee} Ø±ÙŠØ§Ù„`;
            document.getElementById('techFee').textContent = `${techFee} Ø±ÙŠØ§Ù„`;
            document.getElementById('totalFee').textContent = `${Math.round(totalFee)} Ø±ÙŠØ§Ù„`;
        }
        
        updateEligibility() {
            const container = document.getElementById('eligibilityStatus');
            container.innerHTML = '';
            
            const checks = [
                {
                    name: 'Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ',
                    check: () => State.gpa >= (State.selectedProgram?.minGPA || 60),
                    message: 'Ù…Ø¹Ø¯Ù„Ùƒ Ù…Ø¤Ù‡Ù„ Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬'
                },
                {
                    name: 'Ø§Ù„Ø¬Ù†Ø³',
                    check: () => !State.selectedProgram || 
                           State.selectedProgram.gender === 'both' || 
                           State.selectedProgram.gender === State.gender,
                    message: 'Ø§Ù„ØªØ®ØµØµ Ù…ØªØ§Ø­ Ù„Ø¬Ù†Ø³Ùƒ'
                },
                {
                    name: 'Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…',
                    check: () => !State.selectedProgram || 
                           State.selectedProgram.availableFor.includes(State.applicantType),
                    message: 'Ù†ÙˆØ¹ Ù…ØªÙ‚Ø¯Ù…Ùƒ Ù…Ø¤Ù‡Ù„'
                },
                {
                    name: 'Ø§Ù„Ø±Ø³ÙˆÙ…',
                    check: () => true,
                    message: 'Ø§Ù„Ø±Ø³ÙˆÙ… Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØªÙƒ'
                }
            ];
            
            checks.forEach(check => {
                const isEligible = check.check();
                const item = document.createElement('div');
                item.className = `eligibility-item ${isEligible ? 'eligible' : 'not-eligible'}`;
                item.innerHTML = `
                    <i class="fas fa-${isEligible ? 'check-circle' : 'times-circle'}" 
                       style="color: ${isEligible ? 'green' : 'red'}"></i>
                    <span>${check.name}: ${check.message}</span>
                `;
                container.appendChild(item);
            });
        }
        
        updateStatusIndicator(message) {
            const indicator = document.getElementById('statusIndicator');
            indicator.innerHTML = `<i class="fas fa-sync-alt"></i> ${message}`;
        }
        
        validateStep(step) {
            switch(step) {
                case 1:
                    return this.validateStep1();
                case 2:
                    return this.validateStep2();
                case 3:
                    return this.validateStep3();
                case 4:
                    return this.validateStep4();
                default:
                    return false;
            }
        }
        
        validateStep1() {
            const required = ['fullName', 'idNumber', 'gender', 'nationality', 'applicantType', 'email', 'phone'];
            let isValid = true;
            
            required.forEach(field => {
                const element = document.getElementById(field);
                if (!element.value.trim()) {
                    element.style.borderColor = 'var(--error-color)';
                    isValid = false;
                } else {
                    element.style.borderColor = '';
                }
            });
            
            return isValid;
        }
        
        validateStep2() {
            const gpa = parseFloat(document.getElementById('gpa').value);
            if (!gpa || gpa < 50 || gpa > 100) {
                document.getElementById('gpa').style.borderColor = 'var(--error-color)';
                return false;
            }
            
            // Ø¥Ø°Ø§ ÙƒØ§Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù… Ù‡Ùˆ ØªØ¬Ø³ÙŠØ±ØŒ ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
            if (State.applicantType === 'bridging') {
                const required = ['bridgingUniversity', 'diplomaSpecialty', 'diplomaGPA'];
                let isValid = true;
                
                required.forEach(field => {
                    const element = document.getElementById(field);
                    if (!element.value.trim()) {
                        element.style.borderColor = 'var(--error-color)';
                        isValid = false;
                    } else {
                        element.style.borderColor = '';
                    }
                });
                
                return isValid;
            }
            
            return true;
        }
        
        validateStep3() {
            if (!State.selectedProgram) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± ØªØ®ØµØµ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©');
                return false;
            }
            return true;
        }
        
        validateStep4() {
            return document.getElementById('termsAgreement').checked;
        }
        
        generateApplicationNumber() {
            const timestamp = Date.now();
            const random = Math.floor(Math.random() * 1000);
            return `GULF-${timestamp.toString().slice(-6)}-${random}`;
        }
        
        async submitToFormSubmit(formData) {
            const form = document.getElementById('formsubmitForm');
            
            // ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø®ÙÙŠØ©
            form.elements['Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„'].value = formData.personal.fullName;
            form.elements['Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©'].value = formData.personal.idNumber;
            form.elements['Ø§Ù„Ø¬Ù†Ø³'].value = formData.personal.gender;
            form.elements['Ø§Ù„Ø¬Ù†Ø³ÙŠØ©'].value = formData.personal.nationality;
            form.elements['Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…'].value = this.getApplicantTypeText(formData.personal.applicantType);
            form.elements['Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ'].value = formData.personal.email;
            form.elements['Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„'].value = formData.personal.phone;
            form.elements['Ù†ÙˆØ¹_Ø§Ù„Ù…Ø¤Ù‡Ù„'].value = formData.academic.qualification;
            form.elements['ØªØ®ØµØµ_Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©'].value = formData.academic.specialization;
            form.elements['Ø§Ù„Ù…Ø¹Ø¯Ù„_Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ'].value = formData.academic.gpa;
            form.elements['Ø¯Ø±Ø¬Ø©_Ø§Ù„Ù‚Ø¯Ø±Ø§Øª'].value = formData.academic.aptitudeScore || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            form.elements['Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©'].value = formData.program.studyType;
            form.elements['Ù†Ø¸Ø§Ù…_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©'].value = formData.program.studySystem;
            form.elements['Ø§Ù„ÙƒÙ„ÙŠØ©'].value = formData.program.college;
            form.elements['Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ù…Ø®ØªØ§Ø±'].value = formData.program.program;
            form.elements['Ù…Ø¯Ø©_Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬'].value = State.selectedProgram?.duration || '';
            form.elements['Ø§Ù„Ø³Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©'].value = State.selectedProgram?.credits || '';
            form.elements['Ù†Ø³Ø¨Ø©_Ø§Ù„Ù…Ù†Ø­Ø©'].value = State.selectedProgram?.scholarship || 0;
            form.elements['Ø§Ù„Ø±Ø³ÙˆÙ…_Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©'].value = document.getElementById('totalFee').textContent;
            form.elements['Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©_Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©'].value = document.getElementById('bridgingUniversity').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            form.elements['ØªØ®ØµØµ_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…'].value = document.getElementById('diplomaSpecialty').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            form.elements['Ù…Ø¹Ø¯Ù„_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…'].value = document.getElementById('diplomaGPA').value || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯';
            form.elements['Ø±Ù‚Ù…_Ø§Ù„Ø·Ù„Ø¨'].value = this.generateApplicationNumber();
            form.elements['ÙˆÙ‚Øª_Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…'].value = new Date().toLocaleString('ar-SA');
            
            // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… fetch
            try {
                const response = await fetch(form.action, {
                    method: 'POST',
                    body: new FormData(form)
                });
                
                return response.ok;
            } catch (error) {
                console.error('Error submitting to FormSubmit:', error);
                return false;
            }
        }
        
        getApplicantTypeText(type) {
            const types = {
                'new': 'Ø®Ø±ÙŠØ¬ Ø«Ø§Ù†ÙˆÙŠ Ø¬Ø¯ÙŠØ¯',
                'bridging': 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±',
                'transfer': 'Ù…Ù†Ù‚ÙˆÙ„ Ù…Ù† Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰',
                'international': 'Ø·Ø§Ù„Ø¨ Ø¯ÙˆÙ„ÙŠ'
            };
            return types[type] || type;
        }
        
        async submitApplication() {
            if (!this.validateStep(4)) {
                alert('ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…');
                return;
            }

            this.updateStatusIndicator('Ø¬Ø§Ø±ÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨...');
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.innerHTML = '<span class="loading"></span> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
            submitBtn.disabled = true;

            // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const formData = this.collectFormData();
            const appNumber = this.generateApplicationNumber();

            // Ø¥Ø±Ø³Ø§Ù„ Ø¥Ù„Ù‰ FormSubmit
            const submitSuccess = await this.submitToFormSubmit(formData);
            
            if (submitSuccess) {
                // Ø­ÙØ¸ ÙÙŠ localStorage
                this.saveToLocalStorage(appNumber, formData);
                
                // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
                this.showSuccessMessage(appNumber);
                this.updateStatusIndicator('ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­!');
            } else {
                // ÙÙŠ Ø­Ø§Ù„Ø© ÙØ´Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ØŒ Ù†Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ø®Ø·Ø£ ÙˆÙ„ÙƒÙ† Ù†Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹
                this.saveToLocalStorage(appNumber, formData);
                this.showSuccessMessage(appNumber);
                alert('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹ØŒ ÙˆÙ„ÙƒÙ† Ù‡Ù†Ø§Ùƒ Ù…Ø´ÙƒÙ„Ø© ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„. ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ø¯Ø¹Ù….');
                this.updateStatusIndicator('ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹');
            }
        }
        
        collectFormData() {
            return {
                personal: {
                    fullName: document.getElementById('fullName').value,
                    idNumber: document.getElementById('idNumber').value,
                    gender: document.getElementById('gender').value,
                    nationality: document.getElementById('nationality').value,
                    applicantType: document.getElementById('applicantType').value,
                    email: document.getElementById('email').value,
                    phone: document.getElementById('phone').value
                },
                academic: {
                    qualification: document.getElementById('qualificationType').value,
                    specialization: document.getElementById('specialization').value,
                    gpa: document.getElementById('gpa').value,
                    aptitudeScore: document.getElementById('aptitudeScore').value
                },
                program: {
                    college: State.selectedCollege?.name,
                    program: State.selectedProgram?.name,
                    studyType: document.getElementById('studyType').value,
                    studySystem: document.getElementById('studySystem').value
                },
                fees: {
                    total: document.getElementById('totalFee').textContent
                }
            };
        }
        
        saveToLocalStorage(appNumber, formData) {
            const application = {
                id: appNumber,
                timestamp: new Date().toISOString(),
                data: formData
            };
            
            let applications = JSON.parse(localStorage.getItem('gulfApplications') || '[]');
            applications.push(application);
            localStorage.setItem('gulfApplications', JSON.stringify(applications));
        }
        
        showSuccessMessage(appNumber) {
            document.getElementById('applicationNumber').textContent = appNumber;
            document.getElementById('successMessage').style.display = 'block';
            document.getElementById('submitBtn').style.display = 'none';
        }
    }

    // ============ STEP MANAGEMENT ============
    const engine = new AdmissionEngine();

    function nextStep() {
        if (!engine.validateStep(State.currentStep)) {
            alert('ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­');
            return;
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
        updateReviewData();
        
        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªØ§Ù„ÙŠØ©
        document.querySelector(`#step${State.currentStep}`).classList.remove('active');
        document.querySelector(`.step[data-step="${State.currentStep}"]`).classList.remove('active');
        
        State.currentStep++;
        
        document.querySelector(`#step${State.currentStep}`).classList.add('active');
        document.querySelector(`.step[data-step="${State.currentStep}"]`).classList.add('active');
        
        // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
        for (let i = 1; i < State.currentStep; i++) {
            document.querySelector(`.step[data-step="${i}"]`).classList.add('completed');
        }
    }

    function prevStep() {
        document.querySelector(`#step${State.currentStep}`).classList.remove('active');
        document.querySelector(`.step[data-step="${State.currentStep}"]`).classList.remove('active');
        
        State.currentStep--;
        
        document.querySelector(`#step${State.currentStep}`).classList.add('active');
        document.querySelector(`.step[data-step="${State.currentStep}"]`).classList.add('active');
    }

    function updateReviewData() {
        const container = document.getElementById('reviewData');
        const formData = engine.collectFormData();
        
        container.innerHTML = `
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div>
                    <h4 style="color: var(--primary-color); margin-bottom: 10px;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h4>
                    <p><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${formData.personal.fullName}</p>
                    <p><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©:</strong> ${formData.personal.idNumber}</p>
                    <p><strong>Ø§Ù„Ø¬Ù†Ø³:</strong> ${formData.personal.gender}</p>
                    <p><strong>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©:</strong> ${formData.personal.nationality}</p>
                    <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…:</strong> ${engine.getApplicantTypeText(formData.personal.applicantType)}</p>
                </div>
                <div>
                    <h4 style="color: var(--primary-color); margin-bottom: 10px;">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</h4>
                    <p><strong>Ø§Ù„Ù…Ø¤Ù‡Ù„:</strong> ${formData.academic.qualification}</p>
                    <p><strong>Ø§Ù„ØªØ®ØµØµ:</strong> ${formData.academic.specialization}</p>
                    <p><strong>Ø§Ù„Ù…Ø¹Ø¯Ù„:</strong> ${formData.academic.gpa}%</p>
                    <p><strong>Ø§Ù„Ù‚Ø¯Ø±Ø§Øª:</strong> ${formData.academic.aptitudeScore || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</p>
                </div>
                <div>
                    <h4 style="color: var(--primary-color); margin-bottom: 10px;">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ù…Ø®ØªØ§Ø±</h4>
                    <p><strong>Ø§Ù„ÙƒÙ„ÙŠØ©:</strong> ${formData.program.college || 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±'}</p>
                    <p><strong>Ø§Ù„ØªØ®ØµØµ:</strong> ${formData.program.program || 'Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±'}</p>
                    <p><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</strong> ${formData.program.studyType}</p>
                    <p><strong>Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</strong> ${formData.program.studySystem}</p>
                    <p><strong>Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:</strong> ${document.getElementById('totalFee').textContent}</p>
                </div>
            </div>
        `;
    }

    async function submitApplication() {
        await engine.submitApplication();
    }

    // ============ INITIALIZATION ============
    document.addEventListener('DOMContentLoaded', function() {
        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…Ø¤Ù‡Ù„Ø§Øª ÙˆØ§Ù„ØªØ®ØµØµØ§Øª
        engine.loadQualifications();
        engine.loadSpecializations();
        engine.loadColleges();
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ·Ø©
        State.updateRequiredFields();
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¤Ø´Ø±
        engine.updateStatusIndicator('Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„ØªØ´ØºÙŠÙ„');
        
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙˆØµÙŠØ§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
        engine.updateStep1Recommendation();
        
        // ØªØ­Ø¯ÙŠØ« Ù…Ø¹Ø§Ù„Ø¬ ØªØºÙŠÙŠØ± Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
        document.getElementById('applicantType').addEventListener('change', function() {
            State.updateRequiredFields();
        });
    });
    </script>
</body>
  </html>
