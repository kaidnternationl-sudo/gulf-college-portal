<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #0055A4; /* Ø£Ø²Ø±Ù‚ ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ */
            --primary-dark: #003366;
            --secondary-color: #FFD700; /* Ø°Ù‡Ø¨ÙŠ */
            --accent-color: #00A86B; /* Ø£Ø®Ø¶Ø± */
            --success-color: #2e7d32;
            --warning-color: #ef6c00;
            --error-color: #d32f2f;
            --gray-light: #f5f5f5;
            --gray-medium: #e0e0e0;
            --gray-dark: #666;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 15px 40px rgba(0, 85, 164, 0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            color: white;
            padding: 30px 40px;
            text-align: center;
            border-bottom: 8px solid var(--secondary-color);
            position: relative;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary-color), var(--accent-color), var(--secondary-color));
        }
        
        .header h1 {
            font-size: 32px;
            margin-bottom: 10px;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        .header .subtitle {
            font-size: 18px;
            opacity: 0.95;
            margin-bottom: 12px;
            font-weight: 300;
        }
        
        .header .academic-year {
            background: rgba(255, 255, 255, 0.2);
            display: inline-block;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 15px;
            margin-top: 10px;
            backdrop-filter: blur(5px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }
        
        .college-logo {
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 3px solid var(--secondary-color);
        }
        
        .college-logo i {
            font-size: 40px;
            color: var(--primary-color);
        }
        
        .progress-container {
            padding: 0 40px;
            background: white;
        }
        
        .progress-bar {
            background: var(--gray-light);
            height: 8px;
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 25px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), var(--primary-color));
            width: 0%;
            transition: width 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
            border-radius: 4px;
        }
        
        .progress-text {
            text-align: center;
            color: var(--gray-dark);
            font-size: 14px;
            margin-bottom: 10px;
            font-weight: 500;
        }
        
        .content {
            padding: 40px;
        }
        
        .form-section {
            margin-bottom: 50px;
            border-bottom: 2px solid var(--gray-light);
            padding-bottom: 40px;
            transition: all 0.3s ease;
        }
        
        .form-section:last-of-type {
            border-bottom: none;
            margin-bottom: 30px;
        }
        
        .section-title {
            color: var(--primary-dark);
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 3px solid var(--secondary-color);
            display: flex;
            align-items: center;
            gap: 15px;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            right: 0;
            width: 80px;
            height: 3px;
            background: linear-gradient(90deg, var(--secondary-color), transparent);
        }
        
        .section-title i {
            color: var(--primary-color);
            font-size: 26px;
        }
        
        .applicant-type-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 25px;
        }
        
        .applicant-type {
            background: white;
            border: 2px solid var(--gray-medium);
            border-radius: 12px;
            padding: 25px 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .applicant-type::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 4px;
            background: var(--primary-color);
            transform: translateX(-100%);
            transition: transform 0.4s ease;
        }
        
        .applicant-type:hover {
            border-color: var(--primary-color);
            transform: translateY(-8px);
            box-shadow: 0 15px 30px rgba(0, 85, 164, 0.15);
        }
        
        .applicant-type:hover::before {
            transform: translateX(0);
        }
        
        .applicant-type.selected {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-color: var(--primary-color);
            box-shadow: 0 10px 25px rgba(0, 85, 164, 0.2);
        }
        
        .applicant-type.selected::before {
            transform: translateX(0);
            background: linear-gradient(90deg, var(--secondary-color), var(--primary-color));
        }
        
        .applicant-type i {
            font-size: 48px;
            color: var(--primary-color);
            margin-bottom: 20px;
            transition: transform 0.3s ease;
        }
        
        .applicant-type:hover i {
            transform: scale(1.1);
        }
        
        .applicant-type h3 {
            color: var(--primary-dark);
            margin-bottom: 12px;
            font-size: 20px;
            font-weight: 600;
        }
        
        .applicant-type p {
            color: var(--gray-dark);
            font-size: 15px;
            line-height: 1.5;
            margin-bottom: 0;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 25px;
            position: relative;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--primary-dark);
            font-weight: 600;
            font-size: 16px;
            transition: color 0.3s ease;
        }
        
        .form-group label.required::after {
            content: ' *';
            color: var(--error-color);
            font-weight: bold;
        }
        
        .input-container {
            position: relative;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: white;
            color: #333;
        }
        
        input:focus, select:focus, textarea:focus {
            border-color: var(--primary-color);
            outline: none;
            box-shadow: 0 0 0 4px rgba(0, 85, 164, 0.15);
            transform: translateY(-2px);
        }
        
        input:disabled, select:disabled, textarea:disabled {
            background: var(--gray-light);
            cursor: not-allowed;
            opacity: 0.7;
            border-color: var(--gray-medium);
        }
        
        .input-icon {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--gray-dark);
            pointer-events: none;
        }
        
        .alert {
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
            font-size: 15px;
            line-height: 1.7;
            border: 2px solid transparent;
            animation: slideIn 0.5s ease;
        }
        
        .alert-info {
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            border-color: #bbdefb;
            color: #1565c0;
        }
        
        .alert-warning {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            border-color: #ffe0b2;
            color: var(--warning-color);
        }
        
        .alert-success {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            border-color: #c8e6c9;
            color: var(--success-color);
        }
        
        .alert-danger {
            background: linear-gradient(135deg, #ffebee, #ffcdd2);
            border-color: #ef9a9a;
            color: var(--error-color);
        }
        
        .alert i {
            margin-left: 10px;
            font-size: 20px;
        }
        
        .button-container {
            text-align: center;
            margin-top: 60px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border: none;
            padding: 20px 60px;
            border-radius: 12px;
            font-size: 20px;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: inline-flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 30px rgba(0, 85, 164, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--primary-dark), var(--accent-color));
            z-index: 1;
            transition: transform 0.6s ease;
            transform: translateX(-100%);
        }
        
        .submit-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 85, 164, 0.4);
        }
        
        .submit-btn:hover::before {
            transform: translateX(0);
        }
        
        .submit-btn span {
            position: relative;
            z-index: 2;
        }
        
        .submit-btn i {
            position: relative;
            z-index: 2;
            transition: transform 0.3s ease;
        }
        
        .submit-btn:hover i {
            transform: translateX(5px);
        }
        
        .submit-btn:disabled {
            background: var(--gray-medium);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .submit-btn:disabled:hover::before {
            transform: translateX(-100%);
        }
        
        .success-message {
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
            color: var(--success-color);
            padding: 50px;
            border-radius: 15px;
            margin-top: 40px;
            text-align: center;
            display: none;
            border: 3px solid #81c784;
            animation: fadeIn 0.8s ease;
        }
        
        .success-message i {
            font-size: 80px;
            margin-bottom: 30px;
            color: #4caf50;
            animation: bounce 1.5s ease infinite;
        }
        
        .success-message h2 {
            margin-bottom: 25px;
            font-size: 32px;
            font-weight: 700;
        }
        
        .success-message p {
            margin-bottom: 15px;
            font-size: 18px;
            line-height: 1.8;
        }
        
        .success-message .highlight {
            background: rgba(76, 175, 80, 0.1);
            padding: 10px 20px;
            border-radius: 8px;
            display: inline-block;
            margin: 5px;
        }
        
        .footer {
            background: linear-gradient(135deg, #f9f9f9, #f0f0f0);
            padding: 40px 30px;
            text-align: center;
            border-top: 2px solid var(--gray-medium);
            font-size: 15px;
            color: var(--gray-dark);
        }
        
        .footer a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            transition: color 0.3s ease;
        }
        
        .footer a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        .footer-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin: 25px 0;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .footer-info div {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            padding: 15px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }
        
        .footer-info div:hover {
            transform: translateY(-5px);
        }
        
        .social-links {
            margin: 30px 0;
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            border-radius: 50%;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            overflow: hidden;
        }
        
        .social-links a::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--secondary-color), var(--accent-color));
            opacity: 0;
            transition: opacity 0.4s ease;
        }
        
        .social-links a:hover {
            transform: translateY(-8px) rotate(5deg);
            box-shadow: 0 10px 25px rgba(0, 85, 164, 0.3);
        }
        
        .social-links a:hover::before {
            opacity: 1;
        }
        
        .social-links a i {
            position: relative;
            z-index: 1;
        }
        
        @media (max-width: 992px) {
            .content {
                padding: 30px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 25px;
            }
            
            .applicant-type-container {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 28px;
            }
            
            .submit-btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        @media (max-width: 768px) {
            .content {
                padding: 20px;
            }
            
            .header {
                padding: 25px 20px;
            }
            
            .footer-info {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 22px;
            }
        }
        
        .hidden {
            display: none !important;
        }
        
        .inactive {
            opacity: 0.5;
            pointer-events: none;
        }
        
        .academic-section {
            animation: slideIn 0.6s ease;
            transition: all 0.5s ease;
        }
        
        .form-fields-container {
            animation: fadeIn 0.8s ease;
        }
        
        .error-message {
            color: var(--error-color);
            font-size: 14px;
            margin-top: 8px;
            display: none;
            font-weight: 500;
            animation: shake 0.5s ease;
        }
        
        .has-error {
            border-color: var(--error-color) !important;
            background: #ffebee !important;
        }
        
        .field-valid {
            border-color: var(--success-color) !important;
            background: #e8f5e9 !important;
        }
        
        .loading {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-top: 3px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }
        
        .payment-warning {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            border: 3px solid var(--secondary-color);
            padding: 25px;
            border-radius: 12px;
            margin: 25px 0;
            display: none;
            animation: pulse 2s infinite;
        }
        
        .payment-checkbox {
            margin: 20px 0;
            display: flex;
            align-items: flex-start;
            gap: 15px;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 10px;
            border: 2px solid var(--gray-medium);
            transition: all 0.3s ease;
        }
        
        .payment-checkbox input {
            width: 24px;
            height: 24px;
            margin-top: 3px;
        }
        
        .payment-checkbox label {
            margin: 0;
            color: var(--primary-dark);
            line-height: 1.6;
        }
        
        .bridging-fields {
            background: linear-gradient(135deg, #f3e5f5, #f1f8e9);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #ce93d8;
            display: none;
        }
        
        .transfer-fields {
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #90caf9;
            display: none;
        }
        
        .international-fields {
            background: linear-gradient(135deg, #fff3e0, #fff8e1);
            padding: 25px;
            border-radius: 12px;
            margin: 20px 0;
            border: 2px solid #ffcc80;
            display: none;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255, 215, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 215, 0, 0); }
        }
        
        .tooltip {
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-dark);
            color: white;
            padding: 5px 10px;
            border-radius: 6px;
            font-size: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 1000;
            white-space: nowrap;
        }
        
        .tooltip::after {
            content: '';
            position: absolute;
            right: -5px;
            top: 50%;
            transform: translateY(-50%);
            border-width: 5px;
            border-style: solid;
            border-color: transparent transparent transparent var(--primary-dark);
        }
        
        .input-container:hover .tooltip {
            opacity: 1;
        }
        
        .gpa-system {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .gpa-option {
            flex: 1;
            text-align: center;
            padding: 15px;
            border: 2px solid var(--gray-medium);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .gpa-option.selected {
            border-color: var(--primary-color);
            background: linear-gradient(135deg, #e8f5e9, #f1f8e9);
        }
        
        .id-type-indicator {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            background: var(--primary-color);
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 12px;
            display: none;
        }
        
        .file-upload-container {
            margin: 20px 0;
        }
        
        .file-input-wrapper {
            position: relative;
            overflow: hidden;
            display: inline-block;
            width: 100%;
        }
        
        .file-input-wrapper input[type=file] {
            position: absolute;
            left: 0;
            top: 0;
            opacity: 0;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }
        
        .file-input-button {
            background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid var(--primary-color);
        }
        
        .file-input-button:hover {
            background: linear-gradient(135deg, var(--primary-dark), var(--primary-color));
            transform: translateY(-2px);
        }
        
        .file-list {
            margin-top: 15px;
        }
        
        .file-item {
            background: var(--gray-light);
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 1px solid var(--gray-medium);
        }
        
        .file-info {
            display: flex;
            align-items: center;
            gap: 10px;
            flex: 1;
        }
        
        .file-size {
            color: var(--gray-dark);
            font-size: 12px;
        }
        
        .file-status {
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .file-status.pending {
            background: #fff3e0;
            color: #f57c00;
        }
        
        .file-status.uploaded {
            background: #e8f5e9;
            color: #2e7d32;
        }
        
        .file-remove {
            background: var(--error-color);
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }
        
        .file-remove:hover {
            background: #b71c1c;
            transform: scale(1.1);
        }
        
        .validation-icon {
            position: absolute;
            left: 50px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 18px;
            display: none;
        }
        
        .valid-icon {
            color: var(--success-color);
        }
        
        .invalid-icon {
            color: var(--error-color);
        }
        
        .smart-validation {
            background: linear-gradient(135deg, #e3f2fd, #f3f9ff);
            border: 2px solid #90caf9;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            display: none;
        }
        
        .smart-validation ul {
            margin-right: 20px;
            margin-top: 10px;
        }
        
        .smart-validation li {
            margin-bottom: 8px;
        }
        
        .recommendation-box {
            background: linear-gradient(135deg, #f1f8e9, #e8f5e9);
            border: 2px solid #81c784;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            display: none;
        }
        
        .recommendation-box h4 {
            color: #2e7d32;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .auto-detect-badge {
            background: var(--accent-color);
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="college-logo">
                <i class="fas fa-university"></i>
            </div>
            <h1><i class="fas fa-graduation-cap"></i> Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙˆØ§Ù„Ù‚Ø¨ÙˆÙ„ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</h1>
            <div class="subtitle">ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ - Ø­ÙØ± Ø§Ù„Ø¨Ø§Ø·Ù† | Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„</div>
            <div class="academic-year">Ø§Ù„ÙØµÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ Ø§Ù„Ø£ÙˆÙ„ 1447Ù‡Ù€</div>
        </div>
        
        <div class="progress-container">
            <div class="progress-text">Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬: <span id="progressPercent">0%</span></div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
        
        <div class="content">
            <div class="success-message" id="successMessage">
                <i class="fas fa-check-circle"></i>
                <h2>ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!</h2>
                <p><span class="highlight">âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­ ÙˆØªØ®Ø²ÙŠÙ†Ù‡ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</span></p>
                <p><span class="highlight">ğŸ“§ Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø§Ù„Ù…Ø³Ø¬Ù„ Ø®Ù„Ø§Ù„ 24 Ø³Ø§Ø¹Ø©.</span></p>
                <p><span class="highlight">ğŸ‘¨â€ğŸ’¼ Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ù…ÙˆØ¸Ù Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ© Ù„Ø§Ø³ØªÙƒÙ…Ø§Ù„ Ø¨Ù‚ÙŠØ© Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª.</span></p>
                <p><span class="highlight">ğŸ“ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ù†Ø§ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… +966138456789 Ù„Ø£ÙŠ Ø§Ø³ØªÙØ³Ø§Ø±.</span></p>
                <p><span class="highlight">â° ÙŠØ±Ø¬Ù‰ Ù…ØªØ§Ø¨Ø¹Ø© Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø¬ÙˆØ§Ù„ Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª.</span></p>
                <button onclick="location.reload()" class="submit-btn" style="margin-top: 30px; background: linear-gradient(135deg, #4caf50, #2e7d32);">
                    <i class="fas fa-redo"></i> ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                </button>
            </div>
            
            <div id="formContainer">
                <div class="alert alert-info">
                    <strong><i class="fas fa-info-circle"></i> Ø¥Ø±Ø´Ø§Ø¯Ø§Øª Ù‡Ø§Ù…Ø©:</strong>
                    <ul style="margin-right: 25px; margin-top: 15px; font-size: 16px;">
                        <li><strong>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù…ÙŠØ²Ø© Ø¨Ø¹Ù„Ø§Ù…Ø© (*) Ø¥Ù„Ø²Ø§Ù…ÙŠØ©</strong></li>
                        <li>Ø³ÙˆÙ ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø¬ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ†</li>
                        <li>ÙŠØ±Ø¬Ù‰ Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„</li>
                        <li>Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù† Ø¨Ù„ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©</li>
                        <li>ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù…Ø¤Ù‡Ù„Ùƒ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠ</li>
                    </ul>
                </div>
                
                <div class="form-section">
                    <div class="section-title">
                        <i class="fas fa-user-graduate"></i>
                        <span>Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</span>
                    </div>
                    
                    <div class="applicant-type-container">
                        <div class="applicant-type selected" data-type="new" id="applicantNew">
                            <i class="fas fa-user-plus"></i>
                            <h3>Ø®Ø±ÙŠØ¬ Ø«Ø§Ù†ÙˆÙŠ Ø¬Ø¯ÙŠØ¯</h3>
                            <p>Ø§Ù„ØªÙ‚Ø¯ÙŠÙ… Ù„Ù„Ù…Ø±Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ø¹Ù„Ù‰ ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬</p>
                        </div>
                        
                        <div class="applicant-type" data-type="bridging" id="applicantBridging">
                            <i class="fas fa-bridge"></i>
                            <h3>Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±</h3>
                            <p>Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø±Ø§ØºØ¨ÙŠÙ† ÙÙŠ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³</p>
                        </div>
                        
                        <div class="applicant-type" data-type="transfer" id="applicantTransfer">
                            <i class="fas fa-exchange-alt"></i>
                            <h3>Ù…Ù†Ù‚ÙˆÙ„ Ù…Ù† Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰</h3>
                            <p>Ù†Ù‚Ù„ Ù…Ù† ÙƒÙ„ÙŠØ© Ø£Ùˆ Ø¬Ø§Ù…Ø¹Ø© Ø£Ø®Ø±Ù‰</p>
                        </div>
                        
                        <div class="applicant-type" data-type="international" id="applicantInternational">
                            <i class="fas fa-globe"></i>
                            <h3>Ø·Ø§Ù„Ø¨ Ø¯ÙˆÙ„ÙŠ</h3>
                            <p>Ù„ØºÙŠØ± Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠÙŠÙ† Ø§Ù„Ø±Ø§ØºØ¨ÙŠÙ† ÙÙŠ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</p>
                        </div>
                    </div>
                </div>
                
                <form id="registrationForm" novalidate>
                    <input type="hidden" name="access_key" value="8f907260-fc10-46e0-b5b6-422b56f45c19">
                    <input type="hidden" name="subject" value="Ø·Ù„Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø¬Ø¯ÙŠØ¯ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬">
                    <input type="hidden" name="from_name" value="Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬">
                    <input type="hidden" name="replyto" id="replyToEmail">
                    <input type="hidden" name="Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…" id="applicantType" value="new">
                    <input type="hidden" name="timestamp" id="formTimestamp">
                    <input type="hidden" name="application_id" id="applicationId">
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-id-card"></i>
                            <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="smart-validation" id="idValidation">
                                <strong><i class="fas fa-robot"></i> Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø°ÙƒÙŠ:</strong>
                                <ul>
                                    <li><span id="idTypeDetected">ØªÙ… Ø§ÙƒØªØ´Ø§Ù Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹</span></li>
                                    <li><span id="idLengthCheck">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø·ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…</span></li>
                                    <li><span id="idPatternCheck">Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ù…Ø· Ø§Ù„Ø±Ù‚Ù…</span></li>
                                </ul>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ (Ø±Ø¨Ø§Ø¹ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„" id="fullName" required
                                               placeholder="Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ Ø§Ù„Ø³Ø¹ÙŠØ¯">
                                        <i class="fas fa-user input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="fullNameValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="fullNameInvalid"></i>
                                    </div>
                                    <div class="error-message" id="fullNameError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©" id="idNumber" required 
                                               pattern="^[0-9]{10}$|^[0-9]{11}$" 
                                               placeholder="Ø£Ø¯Ø®Ù„ 10 Ø£Ùˆ 11 Ø±Ù‚Ù…Ù‹Ø§"
                                               data-required="true">
                                        <i class="fas fa-id-card input-icon"></i>
                                        <span class="id-type-indicator" id="idTypeIndicator"></span>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="idNumberValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="idNumberInvalid"></i>
                                    </div>
                                    <div class="error-message" id="idNumberError"></div>
                                    <small style="color: var(--gray-dark); display: block; margin-top: 5px;">
                                        <i class="fas fa-robot"></i> <span class="auto-detect-badge">ÙƒØ´Ù Ø¢Ù„ÙŠ</span> Ø§Ù„Ù‡ÙˆÙŠØ© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ© ØªØ¨Ø¯Ø£ Ø¨Ù€ 1ØŒ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© ØªØ¨Ø¯Ø£ Ø¨Ù€ 2
                                    </small>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù‡Ø¬Ø±ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="text" name="ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯_Ù‡Ø¬Ø±ÙŠ" id="hijriBirth" required 
                                               pattern="^(14[4-9][0-9])\/(0[1-9]|1[0-2])\/(0[1-9]|[12][0-9]|3[01])$"
                                               placeholder="1445/12/30">
                                        <i class="fas fa-calendar-alt input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="hijriBirthValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="hijriBirthInvalid"></i>
                                    </div>
                                    <div class="error-message" id="hijriBirthError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ (Ù…ÙŠÙ„Ø§Ø¯ÙŠ)</label>
                                    <div class="input-container">
                                        <input type="date" name="ØªØ§Ø±ÙŠØ®_Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯_Ù…ÙŠÙ„Ø§Ø¯ÙŠ" id="gregorianBirth" required
                                               max="2008-01-01">
                                        <i class="fas fa-calendar input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="gregorianBirthValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="gregorianBirthInvalid"></i>
                                    </div>
                                    <div class="error-message" id="gregorianBirthError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ù†Ø³</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø¬Ù†Ø³" id="gender" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³</option>
                                            <option value="Ø°ÙƒØ±">Ø°ÙƒØ±</option>
                                            <option value="Ø£Ù†Ø«Ù‰">Ø£Ù†Ø«Ù‰</option>
                                        </select>
                                        <i class="fas fa-venus-mars input-icon"></i>
                                    </div>
                                    <div class="error-message" id="genderError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø¬Ù†Ø³ÙŠØ©" id="nationality" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¬Ù†Ø³ÙŠØ©</option>
                                            <option value="Ø³Ø¹ÙˆØ¯ÙŠ">Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                            <option value="ØºÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠ">ØºÙŠØ± Ø³Ø¹ÙˆØ¯ÙŠ</option>
                                        </select>
                                        <i class="fas fa-flag input-icon"></i>
                                    </div>
                                    <div class="error-message" id="nationalityError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø­Ø§Ù„Ø©_Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©" id="maritalStatus" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©</option>
                                            <option value="Ø£Ø¹Ø²Ø¨">Ø£Ø¹Ø²Ø¨</option>
                                            <option value="Ù…ØªØ²ÙˆØ¬">Ù…ØªØ²ÙˆØ¬</option>
                                            <option value="Ù…Ø·Ù„Ù‚">Ù…Ø·Ù„Ù‚</option>
                                            <option value="Ø£Ø±Ù…Ù„">Ø£Ø±Ù…Ù„</option>
                                        </select>
                                        <i class="fas fa-heart input-icon"></i>
                                    </div>
                                    <div class="error-message" id="maritalStatusError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-address-book"></i>
                            <span>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„</label>
                                    <div class="input-container">
                                        <input type="tel" name="Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„" id="phoneNumber" required 
                                               pattern="^05[0-9]{8}$"
                                               placeholder="05XXXXXXXX">
                                        <i class="fas fa-mobile-alt input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="phoneNumberValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="phoneNumberInvalid"></i>
                                    </div>
                                    <div class="error-message" id="phoneNumberError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
                                    <div class="input-container">
                                        <input type="email" name="Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" id="email" required
                                               placeholder="example@domain.com">
                                        <i class="fas fa-envelope input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="emailValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="emailInvalid"></i>
                                    </div>
                                    <div class="error-message" id="emailError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ù…Ù†Ø·Ù‚Ø©" id="region" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-map-marker-alt input-icon"></i>
                                    </div>
                                    <div class="error-message" id="regionError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©" id="city" required disabled>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-city input-icon"></i>
                                    </div>
                                    <div class="error-message" id="cityError"></div>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="required">Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ØªÙØµÙŠÙ„ÙŠ</label>
                                <div class="input-container">
                                    <textarea name="Ø§Ù„Ø¹Ù†ÙˆØ§Ù†_Ø§Ù„ØªÙØµÙŠÙ„ÙŠ" id="address" rows="4" required
                                              placeholder="Ø§Ù„Ø­ÙŠ - Ø§Ù„Ø´Ø§Ø±Ø¹ - Ø±Ù‚Ù… Ø§Ù„Ù…Ø¨Ù†Ù‰ - Ø£Ù‚Ø±Ø¨ Ù…Ø¹Ù„Ù…"></textarea>
                                    <i class="fas fa-home input-icon" style="top: 25px;"></i>
                                </div>
                                <div class="error-message" id="addressError"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-graduation-cap"></i>
                            <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</span>
                        </div>
                        
                        <div class="payment-warning" id="paymentWarning">
                            <strong><i class="fas fa-exclamation-triangle"></i> ØªÙ†Ø¨ÙŠÙ‡ Ù‡Ø§Ù…:</strong>
                            <p style="margin-top: 10px; font-size: 16px;">Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± (Ø§Ù„ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯ / Ø§Ù„Ù…Ø¯Ù…Ø¬) Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©.</p>
                            <p style="margin-top: 10px; font-size: 16px;"><strong>ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹Ù„Ù… Ø£Ù† Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù†ØŒ Ø¨Ù„ Ø³ÙŠÙƒÙˆÙ† Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©.</strong></p>
                        </div>
                        
                        <div class="payment-checkbox hidden" id="paymentCheckbox">
                            <input type="checkbox" id="paymentAgreement">
                            <label for="paymentAgreement" class="required">
                                Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø£Ù† Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³Ø§Ø± Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ© ÙˆØ³Ø£Ù‚ÙˆÙ… Ø¨Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©
                            </label>
                        </div>
                        
                        <!-- Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªØ¬Ø³ÙŠØ± -->
                        <div class="bridging-fields" id="bridgingFields">
                            <div class="alert alert-info">
                                <i class="fas fa-university"></i>
                                <strong>Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±:</strong> ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©/Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©_Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©_ØªØ¬Ø³ÙŠØ±" id="bridgingUniversity" 
                                               placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø£Ùˆ Ø§Ù„ÙƒÙ„ÙŠØ©">
                                        <i class="fas fa-university input-icon"></i>
                                    </div>
                                    <div class="error-message" id="bridgingUniversityError"></div>
                                </div>
                                <div class="form-group">
                                    <label class="required">ØªØ®ØµØµ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                    <div class="input-container">
                                        <input type="text" name="ØªØ®ØµØµ_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…" id="diplomaSpecialty" 
                                               placeholder="Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø°ÙŠ Ø¯Ø±Ø³ØªÙ‡">
                                        <i class="fas fa-certificate input-icon"></i>
                                    </div>
                                    <div class="error-message" id="diplomaSpecialtyError"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ù„</label>
                                    <div class="gpa-system">
                                        <div class="gpa-option selected" data-value="5">
                                            <i class="fas fa-chart-pie"></i>
                                            <h4>Ù…Ù† 5</h4>
                                        </div>
                                        <div class="gpa-option" data-value="4">
                                            <i class="fas fa-chart-line"></i>
                                            <h4>Ù…Ù† 4</h4>
                                        </div>
                                        <div class="gpa-option" data-value="100">
                                            <i class="fas fa-percentage"></i>
                                            <h4>Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ©</h4>
                                        </div>
                                    </div>
                                    <input type="hidden" name="Ù†Ø¸Ø§Ù…_Ø§Ù„Ù…Ø¹Ø¯Ù„_ØªØ¬Ø³ÙŠØ±" id="bridgingGpaSystem" value="5">
                                </div>
                                <div class="form-group">
                                    <label class="required">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…</label>
                                    <div class="input-container">
                                        <input type="number" name="Ù…Ø¹Ø¯Ù„_Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ…" id="diplomaGPA" step="0.01" 
                                               min="2" max="5" placeholder="Ù…Ù† 2 Ø¥Ù„Ù‰ 5">
                                        <i class="fas fa-chart-line input-icon"></i>
                                    </div>
                                    <div class="error-message" id="diplomaGPAError"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù†Ù‚Ù„ -->
                        <div class="transfer-fields" id="transferFields">
                            <div class="alert alert-info">
                                <i class="fas fa-exchange-alt"></i>
                                <strong>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ù‚Ù„:</strong> ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©/Ø§Ù„ÙƒÙ„ÙŠØ© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„Ø¬Ø§Ù…Ø¹Ø©_Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©_Ù†Ù‚Ù„" id="transferUniversity" 
                                               placeholder="Ø§Ø³Ù… Ø§Ù„Ø¬Ø§Ù…Ø¹Ø© Ø£Ùˆ Ø§Ù„ÙƒÙ„ÙŠØ©">
                                        <i class="fas fa-university input-icon"></i>
                                    </div>
                                    <div class="error-message" id="transferUniversityError"></div>
                                </div>
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø³Ø§Ø¨Ù‚</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø³Ø§Ø¨Ù‚_Ù†Ù‚Ù„" id="transferSpecialization" 
                                               placeholder="Ø§Ù„ØªØ®ØµØµ Ø§Ù„Ø°ÙŠ ØªØ¯Ø±Ø³ÙˆÙ†Ù‡">
                                        <i class="fas fa-book-open input-icon"></i>
                                    </div>
                                    <div class="error-message" id="transferSpecializationError"></div>
                                </div>
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ù†Ø¬Ø²Ø©</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ø³Ø§Ø¹Ø§Øª_Ø§Ù„Ù…Ù†Ø¬Ø²Ø©_Ù†Ù‚Ù„" id="transferHours" 
                                               min="0" max="200" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„Ø³Ø§Ø¹Ø§Øª">
                                        <i class="fas fa-clock input-icon"></i>
                                    </div>
                                    <div class="error-message" id="transferHoursError"></div>
                                </div>
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ù…Ø¹Ø¯Ù„_Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ_Ù†Ù‚Ù„" id="transferGPA" 
                                               step="0.01" min="0" max="5" placeholder="Ù…Ù† 0 Ø¥Ù„Ù‰ 5">
                                        <i class="fas fa-chart-line input-icon"></i>
                                    </div>
                                    <div class="error-message" id="transferGPAError"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø·Ù„Ø§Ø¨ Ø§Ù„Ø¯ÙˆÙ„ÙŠÙŠÙ† -->
                        <div class="international-fields" id="internationalFields">
                            <div class="alert alert-info">
                                <i class="fas fa-globe"></i>
                                <strong>Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ø¯ÙˆÙ„ÙŠ:</strong> ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
                            </div>
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø±Ù‚Ù… Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                    <div class="input-container">
                                        <input type="text" name="Ø±Ù‚Ù…_Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©" id="iqamaNumber" 
                                               pattern="^2[0-9]{9}$" placeholder="2XXXXXXXXX">
                                        <i class="fas fa-passport input-icon"></i>
                                    </div>
                                    <div class="error-message" id="iqamaNumberError"></div>
                                </div>
                                <div class="form-group">
                                    <label class="required">ØªØ§Ø±ÙŠØ® Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                    <div class="input-container">
                                        <input type="date" name="ØªØ§Ø±ÙŠØ®_Ø§Ù†ØªÙ‡Ø§Ø¡_Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©" id="iqamaExpiry">
                                        <i class="fas fa-calendar-times input-icon"></i>
                                    </div>
                                    <div class="error-message" id="iqamaExpiryError"></div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Ø­Ù‚ÙˆÙ„ Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© -->
                        <div class="form-fields-container academic-section" id="newStudentFields">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Ù„Ø®Ø±ÙŠØ¬ÙŠ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©:</strong> ÙŠØ¬Ø¨ Ø¥Ø¯Ø®Ø§Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ© Ø§Ù„Ø¹Ø§Ù…Ø© ÙƒØ§Ù…Ù„Ø©
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</label>
                                    <div class="input-container">
                                        <select name="Ù†ÙˆØ¹_Ø§Ù„Ù…Ø¤Ù‡Ù„" id="qualificationType" required>
                                            <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ù…Ø¤Ù‡Ù„</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-graduation-cap input-icon"></i>
                                    </div>
                                    <div class="error-message" id="qualificationTypeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ØªØ®ØµØµ Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="ØªØ®ØµØµ_Ø§Ù„Ø«Ø§Ù†ÙˆÙŠØ©" id="highschoolSpecialization" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-book input-icon"></i>
                                    </div>
                                    <div class="error-message" id="highschoolSpecializationError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø³Ù†Ø© Ø§Ù„ØªØ®Ø±Ø¬ (Ù‡Ø¬Ø±ÙŠ)</label>
                                    <div class="input-container">
                                        <select name="Ø³Ù†Ø©_Ø§Ù„ØªØ®Ø±Ø¬_Ù‡Ø¬Ø±ÙŠ" id="graduationYear" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø³Ù†Ø©</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-calendar input-icon"></i>
                                    </div>
                                    <div class="error-message" id="graduationYearError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ù…Ø¹Ø¯Ù„ / Ø§Ù„Ù†Ø³Ø¨Ø©</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø§Ù„Ù…Ø¹Ø¯Ù„" id="average" step="0.01" 
                                               min="50" max="100" required placeholder="Ù…Ø«Ø§Ù„: 85.50">
                                        <i class="fas fa-percentage input-icon"></i>
                                        <i class="fas fa-check-circle validation-icon valid-icon" id="averageValid"></i>
                                        <i class="fas fa-times-circle validation-icon invalid-icon" id="averageInvalid"></i>
                                    </div>
                                    <div class="error-message" id="averageError"></div>
                                    <div class="recommendation-box" id="gpaRecommendation">
                                        <h4><i class="fas fa-lightbulb"></i> ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªØ®ØµØµ</h4>
                                        <p id="recommendationText"></p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù‚Ø¯Ø±Ø§Øª</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø¯Ø±Ø¬Ø©_Ø§Ù„Ù‚Ø¯Ø±Ø§Øª" id="aptitudeScore" step="0.01" 
                                               min="0" max="100" class="optional" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
                                        <i class="fas fa-brain input-icon"></i>
                                    </div>
                                    <div class="error-message" id="aptitudeScoreError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø¯Ø±Ø¬Ø© Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠ</label>
                                    <div class="input-container">
                                        <input type="number" name="Ø¯Ø±Ø¬Ø©_Ø§Ù„ØªØ­ØµÙŠÙ„ÙŠ" id="achievementScore" step="0.01" 
                                               min="0" max="100" class="optional" placeholder="Ø§Ø®ØªÙŠØ§Ø±ÙŠ">
                                        <i class="fas fa-chart-bar input-icon"></i>
                                    </div>
                                    <div class="error-message" id="achievementScoreError"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-university"></i>
                            <span>Ø§Ù„ÙƒÙ„ÙŠØ© ÙˆØ§Ù„ØªØ®ØµØµ</span>
                        </div>
                        
                        <div class="form-fields-container">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ÙƒÙ„ÙŠØ©</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„ÙƒÙ„ÙŠØ©" id="college" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙƒÙ„ÙŠØ©</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-school input-icon"></i>
                                    </div>
                                    <div class="error-message" id="collegeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</label>
                                    <div class="input-container">
                                        <select name="Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©" id="studyType" required>
                                            <option value="">Ø§Ø®ØªØ± Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</option>
                                            <option value="Ù…Ù†ØªØ¸Ù…">Ù…Ù†ØªØ¸Ù… (Ø­Ø¶ÙˆØ±ÙŠ)</option>
                                            <option value="ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯">ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯</option>
                                            <option value="ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬">ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬</option>
                                        </select>
                                        <i class="fas fa-chalkboard-teacher input-icon"></i>
                                    </div>
                                    <div class="error-message" id="studyTypeError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬_Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ" id="programType" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-graduation-cap input-icon"></i>
                                    </div>
                                    <div class="error-message" id="programTypeError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø§Ø³Ø©</label>
                                    <div class="input-container">
                                        <select name="Ù†Ø¸Ø§Ù…_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©" id="studySystem" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„Ù†Ø¸Ø§Ù…</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-clock input-icon"></i>
                                    </div>
                                    <div class="error-message" id="studySystemError"></div>
                                </div>
                            </div>
                            
                            <div class="alert alert-info">
                                <i class="fas fa-info-circle"></i>
                                <strong>Ù…Ù„Ø§Ø­Ø¸Ø©:</strong> ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù…Ø¤Ù‡Ù„Ùƒ ÙˆØ¬Ù†Ø³Ùƒ
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">Ø§Ù„ØªØ®ØµØµ (Ø§Ù„Ø±ØºØ¨Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰)</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø£ÙˆÙ„" id="firstPreference" required>
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-medal input-icon"></i>
                                    </div>
                                    <div class="error-message" id="firstPreferenceError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ø§Ù„ØªØ®ØµØµ (Ø§Ù„Ø±ØºØ¨Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ©)</label>
                                    <div class="input-container">
                                        <select name="Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø«Ø§Ù†ÙŠ" id="secondPreference">
                                            <option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>
                                            <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                                        </select>
                                        <i class="fas fa-award input-icon"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-file-upload"></i>
                            <span>Ø±ÙØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</span>
                        </div>
                        
                        <div class="file-upload-container">
                            <div class="alert alert-warning">
                                <i class="fas fa-exclamation-triangle"></i>
                                <strong>Ø´Ø±ÙˆØ· Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª:</strong>
                                <ul style="margin-right: 20px; margin-top: 10px;">
                                    <li>Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù Ù„Ø§ ÙŠØªØ¬Ø§ÙˆØ² 5MB</li>
                                    <li>Ø§Ù„ØµÙŠØº Ø§Ù„Ù…Ø³Ù…ÙˆØ­Ø©: PDF, JPG, PNG</li>
                                    <li>ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©</li>
                                </ul>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="required">ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ© / Ø§Ù„Ø¥Ù‚Ø§Ù…Ø©</label>
                                    <div class="file-input-wrapper">
                                        <input type="file" id="idFile" name="id_file" accept=".pdf,.jpg,.jpeg,.png" data-max-size="5242880">
                                        <div class="file-input-button">
                                            <i class="fas fa-upload"></i>
                                            <span>Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ©</span>
                                        </div>
                                    </div>
                                    <div class="file-list" id="idFileList"></div>
                                    <div class="error-message" id="idFileError"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label class="required">ØµÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</label>
                                    <div class="file-input-wrapper">
                                        <input type="file" id="certificateFile" name="certificate_file" accept=".pdf,.jpg,.jpeg,.png" data-max-size="5242880">
                                        <div class="file-input-button">
                                            <i class="fas fa-upload"></i>
                                            <span>Ø±ÙØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø©</span>
                                        </div>
                                    </div>
                                    <div class="file-list" id="certificateFileList"></div>
                                    <div class="error-message" id="certificateFileError"></div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label>ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                    <div class="file-input-wrapper">
                                        <input type="file" id="photoFile" name="photo_file" accept=".jpg,.jpeg,.png" data-max-size="2097152">
                                        <div class="file-input-button">
                                            <i class="fas fa-upload"></i>
                                            <span>Ø±ÙØ¹ ØµÙˆØ±Ø© Ø´Ø®ØµÙŠØ©</span>
                                        </div>
                                    </div>
                                    <div class="file-list" id="photoFileList"></div>
                                </div>
                                
                                <div class="form-group">
                                    <label>Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)</label>
                                    <div class="file-input-wrapper">
                                        <input type="file" id="additionalFile" name="additional_file" accept=".pdf,.jpg,.jpeg,.png,.doc,.docx" data-max-size="5242880">
                                        <div class="file-input-button">
                                            <i class="fas fa-upload"></i>
                                            <span>Ø±ÙØ¹ Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©</span>
                                        </div>
                                    </div>
                                    <div class="file-list" id="additionalFileList"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-section">
                        <div class="section-title">
                            <i class="fas fa-clipboard-check"></i>
                            <span>Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</span>
                        </div>
                        
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            <strong>Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ:</strong>
                            <ul style="margin-right: 20px; margin-top: 10px;">
                                <li>ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø¯Ø®Ù„Ø©</li>
                                <li>ØªØ£ÙƒØ¯ Ù…Ù† Ø±ÙØ¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©</li>
                                <li>Ø³ÙŠØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ¥Ø±Ø³Ø§Ù„ Ù†Ø³Ø®Ø© Ø¥Ù„Ù‰ Ø¨Ø±ÙŠØ¯Ùƒ</li>
                                <li>ÙŠÙ…ÙƒÙ†Ùƒ Ù…ØªØ§Ø¨Ø¹Ø© Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ</li>
                            </ul>
                        </div>
                        
                        <div class="form-group">
                            <label class="required">Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù…</label>
                            <div class="payment-checkbox">
                                <input type="checkbox" id="termsAgreement" required>
                                <label for="termsAgreement" class="required">
                                    Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´Ø±ÙˆØ· ÙˆØ§Ù„Ø£Ø­ÙƒØ§Ù… Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ØŒ 
                                    ÙˆØ£Ù‚Ø± Ø¨ØµØ¯Ù‚ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© ÙˆØ£ØªØ­Ù…Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ© Ø¹Ù† Ø£ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØºÙŠØ± ØµØ­ÙŠØ­Ø©.
                                </label>
                            </div>
                            <div class="error-message" id="termsAgreementError"></div>
                        </div>
                    </div>
                    
                    <div class="button-container">
                        <button type="submit" class="submit-btn" id="submitBtn">
                            <i class="fas fa-paper-plane"></i>
                            <span>Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</span>
                        </button>
                        <p style="margin-top: 20px; color: var(--gray-dark); font-size: 14px;">
                            <i class="fas fa-shield-alt"></i>
                            Ø¬Ù…ÙŠØ¹ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù…Ø­Ù…ÙŠØ© ÙˆÙ…Ø´ÙØ±Ø© ÙˆÙÙ‚Ø§Ù‹ Ù„Ø£Ù†Ø¸Ù…Ø© Ø£Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª
                        </p>
                    </div>
                </form>
            </div>
        </div>
        
        <div class="footer">
            <div class="footer-info">
                <div>
                    <i class="fas fa-phone-alt"></i>
                    <span>Ù‡Ø§ØªÙ Ø§Ù„Ø¯Ø¹Ù…: +966138456789</span>
                </div>
                <div>
                    <i class="fas fa-clock"></i>
                    <span>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„: 8 ØµØ¨Ø§Ø­Ø§Ù‹ - 4 Ø¹ØµØ±Ø§Ù‹</span>
                </div>
                <div>
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Ø­ÙØ± Ø§Ù„Ø¨Ø§Ø·Ù† - Ø·Ø±ÙŠÙ‚ Ø§Ù„Ù…Ù„Ùƒ Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡</span>
                </div>
            </div>
            
            <div class="social-links">
                <a href="#" title="ØªÙˆÙŠØªØ±"><i class="fab fa-twitter"></i></a>
                <a href="#" title="ÙÙŠØ³Ø¨ÙˆÙƒ"><i class="fab fa-facebook-f"></i></a>
                <a href="#" title="Ø¥Ù†Ø³ØªØ¬Ø±Ø§Ù…"><i class="fab fa-instagram"></i></a>
                <a href="#" title="ÙŠÙˆØªÙŠÙˆØ¨"><i class="fab fa-youtube"></i></a>
                <a href="#" title="Ù„ÙŠÙ†ÙƒØ¯ Ø¥Ù†"><i class="fab fa-linkedin-in"></i></a>
            </div>
            
            <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© &copy; ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ 2024 | <a href="#">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a> | <a href="#">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> | <a href="#">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></p>
            <p style="margin-top: 15px; font-size: 13px; color: #888;">Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù…Ù‚Ø¯Ù… Ù…Ù† Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 5.0</p>
            <p style="margin-top: 10px; font-size: 12px; color: #aaa;">
                <i class="fas fa-exclamation-circle"></i>
                Ù‡Ø°Ø§ Ø§Ù„Ù†Ø¸Ø§Ù… Ù‡Ùˆ Ø¬Ø²Ø¡ Ù…Ù† Ù…Ù†Ø¸ÙˆÙ…Ø© Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ§Ø±Ø¯ Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ© (ERP Light) ØªØ¨Ø¯Ø£ Ù…Ù† ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ù„Ù…ØªÙ‚Ø¯Ù… ÙˆØªÙ†ØªÙ‡ÙŠ Ø¨Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù‡ÙŠÙƒÙ„Ø© ØªØ¯Ø¹Ù… Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±
            </p>
        </div>
    </div>

    <!-- Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© -->
    <div style="position: fixed; bottom: 20px; left: 20px; z-index: 1000;">
        <a href="#adminPanel" id="adminToggle" style="background: var(--primary-color); color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; font-size: 12px;">
            <i class="fas fa-cog"></i> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        </a>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // âœ… Ù†Ø¸Ø§Ù… Ù…ØªÙƒØ§Ù…Ù„ Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        class GulfCollegeAdmissionSystem {
            constructor() {
                this.applications = JSON.parse(localStorage.getItem('gulfCollegeApplications') || '[]');
                this.currentApplication = {};
                this.currentStep = 0;
                this.totalSteps = 5;
                this.formState = {
                    currentApplicantType: 'new',
                    selectedRegion: '',
                    selectedCity: '',
                    selectedCollege: '',
                    selectedGender: '',
                    selectedQualification: '',
                    filteredSpecializations: [],
                    uploadedFiles: {
                        idFile: null,
                        certificateFile: null,
                        photoFile: null,
                        additionalFile: null
                    }
                };
                
                this.initializeSystem();
            }
            
            initializeSystem() {
                console.log('ğŸš€ Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„ - ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ - Ø§Ù„Ø¥ØµØ¯Ø§Ø± 5.0');
                
                // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ ÙØ±ÙŠØ¯
                this.generateApplicationId();
                
                // ØªØ­Ù…ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                this.loadAllData();
                
                // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
                this.initializeEvents();
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªÙ‚Ø¯Ù…
                this.updateProgressBar();
                
                console.log('âœ… Ø§Ù„Ù†Ø¸Ø§Ù… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…');
            }
            
            generateApplicationId() {
                const timestamp = Date.now();
                const random = Math.floor(Math.random() * 1000);
                const appId = `GULF-${timestamp}-${random}`;
                document.getElementById('applicationId').value = appId;
                document.getElementById('formTimestamp').value = new Date().toISOString();
                return appId;
            }
            
            loadAllData() {
                // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ ÙˆØ§Ù„Ù…Ø¯Ù†
                this.loadRegions();
                this.loadQualifications();
                this.loadGraduationYears();
                this.loadHighschoolSpecializations();
                this.loadColleges();
                this.loadStudySystems();
                this.loadProgramsData();
            }
            
            // ========== ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© ==========
            
            loadRegions() {
                const regions = [
                    'Ø§Ù„Ø±ÙŠØ§Ø¶', 'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©', 'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©', 'Ø§Ù„Ø´Ø±Ù‚ÙŠØ©', 'Ø§Ù„Ù‚ØµÙŠÙ…', 
                    'Ø¹Ø³ÙŠØ±', 'ØªØ¨ÙˆÙƒ', 'Ø­Ø§Ø¦Ù„', 'Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©', 'Ø¬Ø§Ø²Ø§Ù†', 
                    'Ù†Ø¬Ø±Ø§Ù†', 'Ø§Ù„Ø¨Ø§Ø­Ø©', 'Ø§Ù„Ø¬ÙˆÙ'
                ];
                
                const regionSelect = document.getElementById('region');
                regions.forEach(region => {
                    const option = document.createElement('option');
                    option.value = region;
                    option.textContent = region;
                    regionSelect.appendChild(option);
                });
            }
            
            loadQualifications() {
                const qualifications = [
                    'Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø© - Ø¹Ù„Ù…ÙŠ',
                    'Ø«Ø§Ù†ÙˆÙŠØ© Ø¹Ø§Ù…Ø© - Ø£Ø¯Ø¨ÙŠ',
                    'Ø«Ø§Ù†ÙˆÙŠØ© ØªØ¬Ø§Ø±ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© ØµÙ†Ø§Ø¹ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© Ø²Ø±Ø§Ø¹ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© ÙÙ†Ø¯Ù‚ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© ØµØ­ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© Ø´Ø±Ø¹ÙŠØ©',
                    'Ø«Ø§Ù†ÙˆÙŠØ© ØªØ­ÙÙŠØ¸ Ø§Ù„Ù‚Ø±Ø¢Ù†',
                    'Ø«Ø§Ù†ÙˆÙŠØ© Ù…Ø¹Ù‡Ø¯ Ø§Ù„Ø£Ø¦Ù…Ø© ÙˆØ§Ù„Ø®Ø·Ø¨Ø§Ø¡'
                ];
                
                const qualificationSelect = document.getElementById('qualificationType');
                qualifications.forEach(qualification => {
                    const option = document.createElement('option');
                    option.value = qualification;
                    option.textContent = qualification;
                    qualificationSelect.appendChild(option);
                });
            }
            
            loadGraduationYears() {
                const years = ['1442', '1443', '1444', '1445', '1446', '1447'];
                const yearSelect = document.getElementById('graduationYear');
                
                years.forEach(year => {
                    const option = document.createElement('option');
                    option.value = year;
                    option.textContent = `${year} Ù‡Ù€`;
                    yearSelect.appendChild(option);
                });
            }
            
            loadHighschoolSpecializations() {
                const specializations = {
                    'Ø§Ù„Ø¹Ù„Ù…ÙŠ': ['Ø¹Ù„Ù…ÙŠ Ø·Ø¨ÙŠØ¹ÙŠ', 'Ø¹Ù„Ù…ÙŠ Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ', 'Ø¹Ù„Ù…ÙŠ Ù‡Ù†Ø¯Ø³ÙŠ', 'Ø¹Ù„Ù…ÙŠ Ø£Ø­ÙŠØ§Ø¡', 'Ø¹Ù„Ù…ÙŠ ÙƒÙŠÙ…ÙŠØ§Ø¡', 'Ø¹Ù„Ù…ÙŠ ÙÙŠØ²ÙŠØ§Ø¡'],
                    'Ø§Ù„Ø£Ø¯Ø¨ÙŠ': ['Ø£Ø¯Ø¨ÙŠ Ø¥Ø¯Ø§Ø±ÙŠ', 'Ø£Ø¯Ø¨ÙŠ Ù‚Ø§Ù†ÙˆÙ†ÙŠ', 'Ø¯Ø¨ÙŠ Ø´Ø±Ø¹ÙŠ', 'Ø£Ø¯Ø¨ÙŠ Ù„ØºØ§Øª', 'Ø£Ø¯Ø¨ÙŠ Ø¹Ù„ÙˆÙ… Ø¥Ù†Ø³Ø§Ù†ÙŠØ©', 'Ø£Ø¯Ø¨ÙŠ Ø¹Ù„ÙˆÙ… Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©'],
                    'Ø§Ù„ØªÙ‚Ù†ÙŠ': ['ØªÙ‚Ù†ÙŠ ÙƒÙ‡Ø±Ø¨Ø§Ø¡', 'ØªÙ‚Ù†ÙŠ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒØ§', 'ØªÙ‚Ù†ÙŠ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§Øª', 'ØªÙ‚Ù†ÙŠ Ø­Ø§Ø³Ø¨ Ø¢Ù„ÙŠ', 'ØªÙ‚Ù†ÙŠ Ø¨Ù†Ø§Ø¡ ÙˆØªØ´ÙŠÙŠØ¯'],
                    'Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠ ÙˆØ§Ù„ØªØ¬Ø§Ø±ÙŠ': ['Ø¥Ø¯Ø§Ø±Ø© Ø£Ø¹Ù…Ø§Ù„', 'Ù…Ø­Ø§Ø³Ø¨Ø©', 'Ø³ÙƒØ±ØªØ§Ø±ÙŠØ©', 'ØªØ³ÙˆÙŠÙ‚', 'Ù…Ø¨ÙŠØ¹Ø§Øª'],
                    'Ø§Ù„ØµØ­ÙŠ': ['ØµØ­ÙŠ ØªÙ…Ø±ÙŠØ¶', 'ØµØ­ÙŠ ØµÙŠØ¯Ù„Ø©', 'ØµØ­ÙŠ Ù…Ø®ØªØ¨Ø±Ø§Øª', 'ØµØ­ÙŠ Ø£Ø´Ø¹Ø©', 'ØµØ­ÙŠ Ø¥Ø³Ø¹Ø§Ù ÙˆØ·ÙˆØ§Ø±Ø¦']
                };
                
                const specializationSelect = document.getElementById('highschoolSpecialization');
                
                for (const category in specializations) {
                    const optgroup = document.createElement('optgroup');
                    optgroup.label = category;
                    
                    specializations[category].forEach(spec => {
                        const option = document.createElement('option');
                        option.value = spec;
                        option.textContent = spec;
                        optgroup.appendChild(option);
                    });
                    
                    specializationSelect.appendChild(optgroup);
                }
            }
            
            loadColleges() {
                const colleges = [
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©',
                    'ÙƒÙ„ÙŠØ© Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©',
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© ÙˆØ§Ù„ØµØ­ÙŠØ©',
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†',
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©'
                ];
                
                const collegeSelect = document.getElementById('college');
                colleges.forEach(college => {
                    const option = document.createElement('option');
                    option.value = college;
                    option.textContent = college;
                    collegeSelect.appendChild(option);
                });
            }
            
            loadStudySystems() {
                const systems = ['Ù†Ø¸Ø§Ù… Ø§Ù„ÙØµÙˆÙ„ Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©', 'Ù†Ø¸Ø§Ù… Ø§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ù…Ø¹ØªÙ…Ø¯Ø©', 'Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ù‚Ø±Ø±Ø§Øª'];
                const systemSelect = document.getElementById('studySystem');
                
                systems.forEach(system => {
                    const option = document.createElement('option');
                    option.value = system;
                    option.textContent = system;
                    systemSelect.appendChild(option);
                });
            }
            
            loadProgramsData() {
                // ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø¹Ù†Ø¯ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ„ÙŠØ©
                this.updateProgramsByCollege();
            }
            
            // ========== Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠØ© ==========
            
            updateCitiesByRegion(region) {
                const citiesByRegion = {
                    'Ø§Ù„Ø´Ø±Ù‚ÙŠØ©': ['Ø§Ù„Ø¯Ù…Ø§Ù…', 'Ø§Ù„Ø®Ø¨Ø±', 'Ø§Ù„Ø¸Ù‡Ø±Ø§Ù†', 'Ø§Ù„Ø£Ø­Ø³Ø§Ø¡', 'Ø§Ù„Ù‚Ø·ÙŠÙ', 'Ø¨Ù‚ÙŠÙ‚', 'Ø­ÙØ± Ø§Ù„Ø¨Ø§Ø·Ù†', 'Ø§Ù„Ø¬Ø¨ÙŠÙ„', 'Ø§Ù„Ù†Ø¹ÙŠØ±ÙŠØ©', 'Ù‚Ø±ÙŠØ© Ø§Ù„Ø¹Ù„ÙŠØ§'],
                    'Ø§Ù„Ø±ÙŠØ§Ø¶': ['Ø§Ù„Ø±ÙŠØ§Ø¶', 'Ø§Ù„Ø®Ø±Ø¬', 'Ø§Ù„Ø¯ÙˆØ§Ø¯Ù…ÙŠ', 'Ø§Ù„Ù…Ø¬Ù…Ø¹Ø©', 'Ø§Ù„Ù‚ÙˆÙŠØ¹ÙŠØ©', 'ÙˆØ§Ø¯ÙŠ Ø§Ù„Ø¯ÙˆØ§Ø³Ø±', 'Ø§Ù„Ø£ÙÙ„Ø§Ø¬', 'Ø¶Ø±Ù…Ø§', 'Ø­ÙˆØ·Ø© Ø¨Ù†ÙŠ ØªÙ…ÙŠÙ…', 'Ø­ÙˆØ·Ø© Ø³Ø¯ÙŠØ±'],
                    'Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©': ['Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©', 'Ø¬Ø¯Ø©', 'Ø§Ù„Ø·Ø§Ø¦Ù', 'Ø§Ù„Ù‚Ù†ÙØ°Ø©', 'Ø§Ù„Ù„ÙŠØ«', 'Ø±Ø§Ø¨Øº', 'Ø®Ù„ÙŠØµ', 'Ø®Ù…ÙŠØ³ Ù…Ø´ÙŠØ·'],
                    'Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©': ['Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©', 'ÙŠÙ†Ø¨Ø¹', 'Ø§Ù„Ø¹Ù„Ø§', 'Ø§Ù„Ù…Ù‡Ø¯', 'Ø®ÙŠØ¨Ø±', 'Ø¨Ø¯Ø±', 'Ø§Ù„Ø­Ù†Ø§ÙƒÙŠØ©'],
                    'Ø§Ù„Ù‚ØµÙŠÙ…': ['Ø¨Ø±ÙŠØ¯Ø©', 'Ø¹Ù†ÙŠØ²Ø©', 'Ø§Ù„Ù…Ø°Ù†Ø¨', 'Ø§Ù„Ø±Ø³', 'Ø§Ù„Ø¨ÙƒÙŠØ±ÙŠØ©', 'Ø§Ù„Ø¨Ø¯Ø§Ø¦Ø¹', 'Ø±ÙŠØ§Ø¶ Ø§Ù„Ø®Ø¨Ø±Ø§Ø¡', 'Ø¹ÙŠÙˆÙ† Ø§Ù„Ø¬ÙˆØ§Ø¡'],
                    'Ø¹Ø³ÙŠØ±': ['Ø£Ø¨Ù‡Ø§', 'Ø®Ù…ÙŠØ³ Ù…Ø´ÙŠØ·', 'Ø§Ù„Ù†Ù…Ø§Øµ', 'Ø¨Ù„Ù„Ø³Ù…Ø±', 'Ø¨Ù„Ù„Ø­Ù…Ø±', 'ØªÙ†ÙˆÙ…Ø©', 'Ø¸Ù‡Ø±Ø§Ù† Ø§Ù„Ø¬Ù†ÙˆØ¨', 'Ø±Ø¬Ø§Ù„ Ø£Ù„Ù…Ø¹'],
                    'ØªØ¨ÙˆÙƒ': ['ØªØ¨ÙˆÙƒ', 'Ø§Ù„ÙˆØ¬Ù‡', 'Ø¶Ø¨Ø§Ø¡', 'ØªÙŠÙ…Ø§Ø¡', 'Ø£Ù…Ù„Ø¬', 'Ø­Ù‚Ù„', 'Ø§Ù„Ø¨Ø¯Ø¹'],
                    'Ø­Ø§Ø¦Ù„': ['Ø­Ø§Ø¦Ù„', 'Ø§Ù„ØºØ²Ø§Ù„Ø©', 'Ø¨Ù‚Ø¹Ø§Ø¡', 'Ø§Ù„Ø´Ù†Ø§Ù†', 'Ù…ÙˆÙ‚Ù‚', 'Ø³Ù…ÙŠØ±Ø§Ø¡', 'Ø§Ù„Ø­Ø§Ø¦Ø·'],
                    'Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©': ['Ø¹Ø±Ø¹Ø±', 'Ø·Ø±ÙŠÙ', 'Ø±ÙØ­Ø§Ø¡', 'Ø§Ù„Ø¹ÙˆÙŠÙ‚ÙŠÙ„Ø©', 'Ù…Ø±ÙƒØ² Ø§Ù„ØµØ­Ù†'],
                    'Ø¬Ø§Ø²Ø§Ù†': ['Ø¬Ø§Ø²Ø§Ù†', 'ØµØ¨ÙŠØ§', 'Ø£Ø¨Ùˆ Ø¹Ø±ÙŠØ´', 'ØµØ§Ù…Ø·Ø©', 'Ø¨ÙŠØ´', 'Ø§Ù„Ø¯Ø±Ø¨', 'Ø§Ù„Ø­Ø±Ø«', 'Ø¶Ù…Ø¯'],
                    'Ù†Ø¬Ø±Ø§Ù†': ['Ù†Ø¬Ø±Ø§Ù†', 'Ø´Ø±ÙˆØ±Ø©', 'Ø¨Ø¯Ø± Ø§Ù„Ø¬Ù†ÙˆØ¨', 'Ø­Ø¨ÙˆÙ†Ø§', 'Ø«Ø§Ø±', 'ÙŠØ¯Ù…Ø©'],
                    'Ø§Ù„Ø¨Ø§Ø­Ø©': ['Ø§Ù„Ø¨Ø§Ø­Ø©', 'Ø§Ù„Ù…Ø®ÙˆØ§Ø©', 'Ø¨Ù„Ø¬Ø±Ø´ÙŠ', 'Ø§Ù„Ù…Ù†Ø¯Ù‚', 'Ù‚Ù„ÙˆØ©', 'Ø§Ù„Ø¹Ù‚ÙŠÙ‚', 'Ø§Ù„Ø­Ø¬Ø±Ø©'],
                    'Ø§Ù„Ø¬ÙˆÙ': ['Ø³ÙƒØ§ÙƒØ§', 'Ø§Ù„Ù‚Ø±ÙŠØ§Øª', 'Ø¯ÙˆÙ…Ø© Ø§Ù„Ø¬Ù†Ø¯Ù„', 'Ø·Ø¨Ø±Ø¬Ù„', 'ØµÙˆÙŠØ±', 'Ø§Ù„Ù†Ø¨Ùƒ Ø£Ø¨Ùˆ Ù‚ØµØ±']
                };
                
                const citySelect = document.getElementById('city');
                citySelect.disabled = false;
                citySelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©</option>';
                
                this.formState.selectedRegion = region;
                
                if (region && citiesByRegion[region]) {
                    citiesByRegion[region].forEach(city => {
                        const option = document.createElement('option');
                        option.value = city;
                        option.textContent = city;
                        citySelect.appendChild(option);
                    });
                }
            }
            
            updateProgramsByCollege() {
                const collegeSelect = document.getElementById('college');
                const programSelect = document.getElementById('programType');
                
                collegeSelect.addEventListener('change', () => {
                    const college = collegeSelect.value;
                    this.formState.selectedCollege = college;
                    
                    programSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</option>';
                    
                    if (college) {
                        const programs = this.getProgramsByCollege(college);
                        programs.forEach(program => {
                            const option = document.createElement('option');
                            option.value = program.name;
                            option.textContent = `${program.name} (${program.duration})`;
                            option.dataset.duration = program.duration;
                            option.dataset.gender = program.gender;
                            programSelect.appendChild(option);
                        });
                        
                        this.updateSpecializationsByCollege(college);
                    }
                });
            }
            
            getProgramsByCollege(college) {
                const programsData = {
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± (Ù…Ø­Ø§Ø³Ø¨Ø©)', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'}
                    ],
                    'ÙƒÙ„ÙŠØ© Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ ØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø§Ø³Ø¨', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø´Ø¨ÙƒØ§Øª Ø§Ù„Ø­Ø§Ø³Ø¨', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ø¨Ø±Ù…Ø¬ÙŠØ§Øª', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± (Ø¹Ù„ÙˆÙ… Ø­Ø§Ø³Ø¨)', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'}
                    ],
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©', duration: '5 Ø³Ù†ÙˆØ§Øª', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©', duration: '5 Ø³Ù†ÙˆØ§Øª', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', duration: '5 Ø³Ù†ÙˆØ§Øª', gender: 'Ø°ÙƒØ±'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø¹Ù…Ø§Ø±Ø© ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø¹Ù…Ø§Ø±Ø© ÙˆØ§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ', duration: '5 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± (Ù‡Ù†Ø¯Ø³Ø© Ù…Ø¯Ù†ÙŠØ©)', duration: '3 Ø³Ù†ÙˆØ§Øª', gender: 'Ø°ÙƒØ±'}
                    ],
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© ÙˆØ§Ù„ØµØ­ÙŠØ©': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªÙ…Ø±ÙŠØ¶ Ø§Ù„Ø¹Ø§Ù…', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªÙ…Ø±ÙŠØ¶', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…Ø®ØªØ¨Ø±Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØµÙŠØ¯Ù„Ø©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¯ÙƒØªÙˆØ± ØµÙŠØ¯Ù„ÙŠ', duration: '6 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± (ØªÙ…Ø±ÙŠØ¶)', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'}
                    ],
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„ØªØ¬Ø§Ø±ÙŠ', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± (Ù‚Ø§Ù†ÙˆÙ†)', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'}
                    ],
                    'ÙƒÙ„ÙŠØ© Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©': [
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø¹Ù„Ø§Ø¬ Ø§Ù„Ø·Ø¨ÙŠØ¹ÙŠ', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªØºØ°ÙŠØ© Ø§Ù„Ø¹Ù„Ø§Ø¬ÙŠØ©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'},
                        {name: 'Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©', duration: 'Ø³Ù†ØªØ§Ù†', gender: 'both'},
                        {name: 'Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ©', duration: '4 Ø³Ù†ÙˆØ§Øª', gender: 'both'}
                    ]
                };
                
                return programsData[college] || [];
            }
            
            updateSpecializationsByCollege(college) {
                const programs = this.getProgramsByCollege(college);
                this.formState.filteredSpecializations = programs
                    .filter(program => 
                        !this.formState.selectedGender || 
                        program.gender === 'both' || 
                        program.gender === this.formState.selectedGender
                    )
                    .map(program => ({
                        value: program.name,
                        text: program.name,
                        group: college,
                        gender: program.gender
                    }));
                
                this.updateFirstPreferenceOptions();
                this.updateSecondPreferenceOptions();
            }
            
            updateFirstPreferenceOptions() {
                const select = document.getElementById('firstPreference');
                select.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
                
                if (this.formState.filteredSpecializations.length > 0) {
                    const grouped = {};
                    this.formState.filteredSpecializations.forEach(spec => {
                        if (!grouped[spec.group]) {
                            grouped[spec.group] = [];
                        }
                        grouped[spec.group].push(spec);
                    });
                    
                    for (const group in grouped) {
                        const optgroup = document.createElement('optgroup');
                        optgroup.label = group;
                        
                        grouped[group].forEach(spec => {
                            const option = document.createElement('option');
                            option.value = spec.value;
                            option.textContent = spec.text;
                            if (spec.gender === 'Ø°ÙƒØ±') {
                                option.textContent += ' (Ù„Ù„Ø°ÙƒÙˆØ± ÙÙ‚Ø·)';
                            }
                            optgroup.appendChild(option);
                        });
                        
                        select.appendChild(optgroup);
                    }
                }
            }
            
            updateSecondPreferenceOptions() {
                const firstSelect = document.getElementById('firstPreference');
                const secondSelect = document.getElementById('secondPreference');
                const selectedFirst = firstSelect.value;
                
                secondSelect.innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
                
                const grouped = {};
                this.formState.filteredSpecializations.forEach(spec => {
                    if (spec.value !== selectedFirst) {
                        if (!grouped[spec.group]) {
                            grouped[spec.group] = [];
                        }
                        grouped[spec.group].push(spec);
                    }
                });
                
                for (const group in grouped) {
                    const optgroup = document.createElement('optgroup');
                    optgroup.label = group;
                    
                    grouped[group].forEach(spec => {
                        const option = document.createElement('option');
                        option.value = spec.value;
                        option.textContent = spec.text;
                        if (spec.gender === 'Ø°ÙƒØ±') {
                            option.textContent += ' (Ù„Ù„Ø°ÙƒÙˆØ± ÙÙ‚Ø·)';
                        }
                        optgroup.appendChild(option);
                    });
                    
                    secondSelect.appendChild(optgroup);
                }
            }
            
            // ========== Ø¥Ø¯Ø§Ø±Ø© Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…ÙŠÙ† ==========
            
            updateApplicantType(type) {
                this.formState.currentApplicantType = type;
                document.getElementById('applicantType').value = type;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©
                this.hideAllAdditionalFields();
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                switch(type) {
                    case 'bridging':
                        this.showBridgingFields();
                        break;
                    case 'transfer':
                        this.showTransferFields();
                        break;
                    case 'international':
                        this.showInternationalFields();
                        break;
                    default:
                        this.showNewStudentFields();
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª
                this.updateFieldRequirements();
            }
            
            hideAllAdditionalFields() {
                document.getElementById('bridgingFields').style.display = 'none';
                document.getElementById('transferFields').style.display = 'none';
                document.getElementById('internationalFields').style.display = 'none';
                
                // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø®ÙÙŠØ©
                this.disableHiddenFields('bridgingFields');
                this.disableHiddenFields('transferFields');
                this.disableHiddenFields('internationalFields');
            }
            
            showBridgingFields() {
                document.getElementById('bridgingFields').style.display = 'block';
                this.enableFields('bridgingFields');
            }
            
            showTransferFields() {
                document.getElementById('transferFields').style.display = 'block';
                this.enableFields('transferFields');
            }
            
            showInternationalFields() {
                document.getElementById('internationalFields').style.display = 'block';
                this.enableFields('internationalFields');
            }
            
            showNewStudentFields() {
                // Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ù…Ø¹ØªÙ…Ù„Ø© Ø¨Ø§Ù„ÙØ¹Ù„
            }
            
            disableHiddenFields(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const inputs = section.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.disabled = true;
                    input.required = false;
                });
            }
            
            enableFields(sectionId) {
                const section = document.getElementById(sectionId);
                if (!section) return;
                
                const inputs = section.querySelectorAll('input, select, textarea');
                inputs.forEach(input => {
                    input.disabled = false;
                    if (input.hasAttribute('data-required')) {
                        input.required = true;
                    }
                });
            }
            
            updateFieldRequirements() {
                // ØªØ­Ø¯ÙŠØ« Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                const fields = {
                    bridging: ['bridgingUniversity', 'diplomaSpecialty', 'diplomaGPA'],
                    transfer: ['transferUniversity', 'transferSpecialization', 'transferHours', 'transferGPA'],
                    international: ['iqamaNumber', 'iqamaExpiry']
                };
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹
                Object.values(fields).flat().forEach(fieldId => {
                    const field = document.getElementById(fieldId);
                    if (field) {
                        field.required = false;
                        field.removeAttribute('data-required');
                    }
                });
                
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ù„Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©
                const currentType = this.formState.currentApplicantType;
                if (fields[currentType]) {
                    fields[currentType].forEach(fieldId => {
                        const field = document.getElementById(fieldId);
                        if (field) {
                            field.required = true;
                            field.setAttribute('data-required', 'true');
                        }
                    });
                }
            }
            
            // ========== Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„Ø°ÙƒÙŠ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ==========
            
            validateIdNumber(idNumber) {
                const indicator = document.getElementById('idTypeIndicator');
                const validationBox = document.getElementById('idValidation');
                
                if (!idNumber || idNumber.length < 1) {
                    indicator.style.display = 'none';
                    validationBox.style.display = 'none';
                    return false;
                }
                
                const firstDigit = idNumber.charAt(0);
                let type = '';
                let isValid = false;
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†Ù…Ø· Ø§Ù„Ø±Ù‚Ù…
                if (firstDigit === '1') {
                    type = 'Ù‡ÙˆÙŠØ© Ø³Ø¹ÙˆØ¯ÙŠØ©';
                    isValid = /^1[0-9]{9}$/.test(idNumber);
                    indicator.style.background = 'var(--accent-color)';
                    document.getElementById('idTypeDetected').textContent = `âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù: ${type}`;
                    document.getElementById('idLengthCheck').textContent = isValid ? 'âœ… Ø§Ù„Ø·ÙˆÙ„ ØµØ­ÙŠØ­ (10 Ø£Ø±Ù‚Ø§Ù…)' : 'âŒ Ø§Ù„Ø·ÙˆÙ„ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù…';
                } else if (firstDigit === '2') {
                    type = 'Ø¥Ù‚Ø§Ù…Ø©';
                    isValid = /^2[0-9]{9,10}$/.test(idNumber);
                    indicator.style.background = 'var(--secondary-color)';
                    document.getElementById('idTypeDetected').textContent = `âœ… ØªÙ… Ø§ÙƒØªØ´Ø§Ù: ${type}`;
                    const lengthCheck = idNumber.length === 10 || idNumber.length === 11;
                    document.getElementById('idLengthCheck').textContent = lengthCheck ? 'âœ… Ø§Ù„Ø·ÙˆÙ„ ØµØ­ÙŠØ­ (10-11 Ø±Ù‚Ù…)' : 'âŒ Ø§Ù„Ø·ÙˆÙ„ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ùˆ 11 Ø±Ù‚Ù…';
                } else {
                    type = 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                    indicator.style.background = 'var(--gray-dark)';
                    document.getElementById('idTypeDetected').textContent = 'âŒ Ù†ÙˆØ¹ Ø§Ù„ÙˆØ«ÙŠÙ‚Ø© ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
                    document.getElementById('idLengthCheck').textContent = 'âŒ Ø§Ù„Ø±Ù‚Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 1 Ø£Ùˆ 2';
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ù…Ø·
                const patternCheck = /^[0-9]{10,11}$/.test(idNumber);
                document.getElementById('idPatternCheck').textContent = patternCheck ? 'âœ… Ø§Ù„Ù†Ù…Ø· ØµØ­ÙŠØ­ (Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·)' : 'âŒ Ø§Ù„Ù†Ù…Ø· ØºÙŠØ± ØµØ­ÙŠØ­';
                
                indicator.textContent = type;
                indicator.style.display = 'block';
                validationBox.style.display = 'block';
                
                // ØªØ­Ø¯ÙŠØ« Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚
                this.updateValidationIcon('idNumber', isValid && patternCheck);
                
                return isValid && patternCheck;
            }
            
            updateValidationIcon(fieldId, isValid) {
                const validIcon = document.getElementById(`${fieldId}Valid`);
                const invalidIcon = document.getElementById(`${fieldId}Invalid`);
                const field = document.getElementById(fieldId);
                
                if (isValid) {
                    validIcon.style.display = 'block';
                    invalidIcon.style.display = 'none';
                    field.classList.add('field-valid');
                    field.classList.remove('has-error');
                } else if (field.value) {
                    validIcon.style.display = 'none';
                    invalidIcon.style.display = 'block';
                    field.classList.add('has-error');
                    field.classList.remove('field-valid');
                } else {
                    validIcon.style.display = 'none';
                    invalidIcon.style.display = 'none';
                    field.classList.remove('field-valid', 'has-error');
                }
            }
            
            validatePhoneNumber(phone) {
                const pattern = /^05[0-9]{8}$/;
                const isValid = pattern.test(phone);
                this.updateValidationIcon('phoneNumber', isValid);
                return isValid;
            }
            
            validateEmail(email) {
                const pattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                const isValid = pattern.test(email);
                this.updateValidationIcon('email', isValid);
                return isValid;
            }
            
            validateAverage(average) {
                const avg = parseFloat(average);
                const isValid = !isNaN(avg) && avg >= 50 && avg <= 100;
                this.updateValidationIcon('average', isValid);
                
                // Ø¹Ø±Ø¶ ØªÙˆØµÙŠØ§Øª Ø§Ù„ØªØ®ØµØµ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø¯Ù„
                if (isValid) {
                    this.showGPARecommendation(avg);
                } else {
                    document.getElementById('gpaRecommendation').style.display = 'none';
                }
                
                return isValid;
            }
            
            showGPARecommendation(average) {
                const recommendationBox = document.getElementById('gpaRecommendation');
                const recommendationText = document.getElementById('recommendationText');
                
                let recommendations = [];
                
                if (average >= 95) {
                    recommendations = [
                        'ğŸ¯ Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø¨Ø¬Ù…ÙŠØ¹ ØªØ®ØµØµØ§ØªÙ‡Ø§',
                        'ğŸ¯ Ø§Ù„Ø·Ø¨ ÙˆØ§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØµØ­ÙŠØ©',
                        'ğŸ¯ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØ§Ù„Ø£Ù…Ù† Ø§Ù„Ø³ÙŠØ¨Ø±Ø§Ù†ÙŠ',
                        'ğŸ¯ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„ØªÙ†Ø§ÙØ³ÙŠØ©'
                    ];
                } else if (average >= 85) {
                    recommendations = [
                        'ğŸ¯ Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³Ø¨ ÙˆØªÙ‚Ù†ÙŠØ© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª',
                        'ğŸ¯ Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©',
                        'ğŸ¯ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³ Ø§Ù„Ù…ØªÙ…ÙŠØ²Ø©',
                        'ğŸ¯ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù…Ø³Ø§Ù†Ø¯Ø©'
                    ];
                } else if (average >= 75) {
                    recommendations = [
                        'ğŸ¯ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…ØªÙ‚Ø¯Ù…Ø©',
                        'ğŸ¯ Ø§Ù„ØªØ¬Ø³ÙŠØ± Ù„Ù„Ø¨ÙƒØ§Ù„ÙˆØ±ÙŠÙˆØ³',
                        'ğŸ¯ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ØªÙ‚Ù†ÙŠØ©',
                        'ğŸ¯ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ù…Ø­Ø§Ø³Ø¨Ø©'
                    ];
                } else {
                    recommendations = [
                        'ğŸ¯ Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠØ©',
                        'ğŸ¯ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ØªÙ‚Ù†ÙŠ',
                        'ğŸ¯ Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ©',
                        'ğŸ¯ Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª'
                    ];
                }
                
                recommendationText.textContent = `Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù…Ø¹Ø¯Ù„Ùƒ (${average})ØŒ Ù†ÙˆØµÙŠ Ø¨Ø§Ù„ØªØ®ØµØµØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©: ${recommendations.join('ØŒ ')}`;
                recommendationBox.style.display = 'block';
            }
            
            // ========== Ø¥Ø¯Ø§Ø±Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ==========
            
            initializeFileUpload() {
                const fileInputs = document.querySelectorAll('input[type="file"]');
                
                fileInputs.forEach(input => {
                    input.addEventListener('change', (e) => {
                        this.handleFileUpload(e.target);
                    });
                });
            }
            
            handleFileUpload(input) {
                const file = input.files[0];
                if (!file) return;
                
                const maxSize = parseInt(input.dataset.maxSize) || 5242880; // 5MB Ø§ÙØªØ±Ø§Ø¶ÙŠ
                const allowedTypes = input.accept.split(',').map(type => type.trim());
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù
                if (file.size > maxSize) {
                    alert(`Ø­Ø¬Ù… Ø§Ù„Ù…Ù„Ù ${file.name} ÙŠØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ Ø§Ù„Ù…Ø³Ù…ÙˆØ­ (${maxSize/1024/1024}MB)`);
                    input.value = '';
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù
                const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
                const isValidType = allowedTypes.some(type => {
                    if (type.startsWith('.')) {
                        return type === fileExtension;
                    } else {
                        return file.type.match(type.replace('*', ''));
                    }
                });
                
                if (!isValidType) {
                    alert(`Ù†ÙˆØ¹ Ø§Ù„Ù…Ù„Ù ${file.name} ØºÙŠØ± Ù…Ø³Ù…ÙˆØ­. Ø§Ù„Ù…Ø³Ù…ÙˆØ­: ${allowedTypes.join(', ')}`);
                    input.value = '';
                    return;
                }
                
                // Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù
                const fileId = input.id.replace('File', '');
                this.formState.uploadedFiles[fileId] = file;
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ù…Ù„Ù
                this.displayFile(file, input.id);
            }
            
            displayFile(file, inputId) {
                const fileListId = inputId + 'List';
                const fileList = document.getElementById(fileListId);
                
                const fileItem = document.createElement('div');
                fileItem.className = 'file-item';
                fileItem.innerHTML = `
                    <div class="file-info">
                        <i class="fas fa-file"></i>
                        <div>
                            <strong>${file.name}</strong>
                            <div class="file-size">${this.formatFileSize(file.size)}</div>
                        </div>
                    </div>
                    <div class="file-status pending">Ù‚ÙŠØ¯ Ø§Ù„Ø±ÙØ¹</div>
                    <button class="file-remove" data-file="${inputId}">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                
                fileList.innerHTML = '';
                fileList.appendChild(fileItem);
                
                // Ù…Ø­Ø§ÙƒØ§Ø© Ø±ÙØ¹ Ø§Ù„Ù…Ù„Ù
                setTimeout(() => {
                    fileItem.querySelector('.file-status').className = 'file-status uploaded';
                    fileItem.querySelector('.file-status').textContent = 'ØªÙ… Ø§Ù„Ø±ÙØ¹';
                }, 1000);
                
                // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù…Ù„Ù
                fileItem.querySelector('.file-remove').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.removeFile(inputId);
                });
            }
            
            removeFile(fileId) {
                const input = document.getElementById(fileId);
                const fileList = document.getElementById(fileId + 'List');
                
                input.value = '';
                fileList.innerHTML = '';
                delete this.formState.uploadedFiles[fileId.replace('File', '')];
            }
            
            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            // ========== Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ==========
            
            validateForm() {
                let isValid = true;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø¬Ù…ÙŠØ¹ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø®Ø·Ø£
                document.querySelectorAll('.error-message').forEach(el => {
                    el.style.display = 'none';
                });
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ø§Ù„Ù…Ø±Ø¦ÙŠØ© ÙÙ‚Ø·
                const visibleRequiredFields = document.querySelectorAll('[required]:not([disabled]):not(.hidden *)');
                
                visibleRequiredFields.forEach(field => {
                    const errorElement = document.getElementById(field.id + 'Error');
                    
                    if (field.type === 'checkbox') {
                        if (!field.checked) {
                            isValid = false;
                            this.showError(field, 'ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„');
                        }
                    } else {
                        if (!field.value.trim()) {
                            isValid = false;
                            this.showError(field, 'Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨');
                        }
                    }
                });
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
                if (!this.formState.uploadedFiles.idFile) {
                    isValid = false;
                    this.showError(document.getElementById('idFile'), 'ÙŠØ¬Ø¨ Ø±ÙØ¹ ØµÙˆØ±Ø© Ø§Ù„Ù‡ÙˆÙŠØ©');
                }
                
                if (!this.formState.uploadedFiles.certificateFile) {
                    isValid = false;
                    this.showError(document.getElementById('certificateFile'), 'ÙŠØ¬Ø¨ Ø±ÙØ¹ Ø§Ù„Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©');
                }
                
                return isValid;
            }
            
            showError(field, message) {
                const errorElement = document.getElementById(field.id + 'Error');
                if (errorElement) {
                    errorElement.textContent = message;
                    errorElement.style.display = 'block';
                }
                field.classList.add('has-error');
            }
            
            // ========== Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ==========
            
            async submitForm(formData) {
                try {
                    // Ù…Ø­Ø§ÙƒØ§Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…
                    await this.simulateServerRequest(formData);
                    
                    // Ø­ÙØ¸ ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ
                    this.saveApplication(formData);
                    
                    return {
                        success: true,
                        applicationId: document.getElementById('applicationId').value,
                        message: 'ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­'
                    };
                } catch (error) {
                    throw new Error('ÙØ´Ù„ ÙÙŠ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨: ' + error.message);
                }
            }
            
            simulateServerRequest(data) {
                return new Promise((resolve) => {
                    setTimeout(() => {
                        console.log('ğŸ“¤ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ù„Ù‰ Ø§Ù„Ø®Ø§Ø¯Ù…:', data);
                        resolve(true);
                    }, 2000);
                });
            }
            
            saveApplication(formData) {
                const application = {
                    id: document.getElementById('applicationId').value,
                    timestamp: new Date().toISOString(),
                    status: 'pending',
                    applicantType: this.formState.currentApplicantType,
                    data: formData,
                    files: this.formState.uploadedFiles
                };
                
                this.applications.push(application);
                localStorage.setItem('gulfCollegeApplications', JSON.stringify(this.applications));
                
                console.log('ğŸ’¾ ØªÙ… Ø­ÙØ¸ Ø§Ù„Ø·Ù„Ø¨ Ù…Ø­Ù„ÙŠØ§Ù‹:', application.id);
            }
            
            // ========== ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… ==========
            
            updateProgressBar() {
                const requiredFields = document.querySelectorAll('[required]:not([disabled]):not(.hidden *)');
                let filledCount = 0;
                
                requiredFields.forEach(field => {
                    if (field.type === 'checkbox') {
                        if (field.checked) filledCount++;
                    } else if (field.type === 'radio') {
                        // Ù„Ø§ Ù†ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ radio Ù‡Ù†Ø§
                    } else {
                        if (field.value.trim() !== '') filledCount++;
                    }
                });
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©
                if (this.formState.uploadedFiles.idFile) filledCount++;
                if (this.formState.uploadedFiles.certificateFile) filledCount++;
                
                const progressPercent = requiredFields.length > 0 ? 
                    Math.round((filledCount / (requiredFields.length + 2)) * 100) : 0;
                
                document.getElementById('progressFill').style.width = `${progressPercent}%`;
                document.getElementById('progressPercent').textContent = `${progressPercent}%`;
                
                // ØªØ­Ø¯ÙŠØ« Ù„ÙˆÙ† Ø§Ù„Ø²Ø±
                const submitBtn = document.getElementById('submitBtn');
                if (progressPercent >= 80) {
                    submitBtn.style.background = 'linear-gradient(135deg, #00A86B, #2e7d32)';
                } else if (progressPercent >= 50) {
                    submitBtn.style.background = 'linear-gradient(135deg, #FFD700, #f57c00)';
                } else {
                    submitBtn.style.background = 'linear-gradient(135deg, var(--primary-color), var(--primary-dark))';
                }
            }
            
            // ========== ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ==========
            
            initializeEvents() {
                // Ø£Ø­Ø¯Ø§Ø« Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…
                document.querySelectorAll('.applicant-type').forEach(type => {
                    type.addEventListener('click', (e) => {
                        const selectedType = e.currentTarget.dataset.type;
                        
                        document.querySelectorAll('.applicant-type').forEach(t => {
                            t.classList.remove('selected');
                        });
                        e.currentTarget.classList.add('selected');
                        
                        this.updateApplicantType(selectedType);
                        this.updateProgressBar();
                    });
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ ÙˆØ§Ù„Ù…Ø¯Ù†
                document.getElementById('region').addEventListener('change', (e) => {
                    this.updateCitiesByRegion(e.target.value);
                    this.updateProgressBar();
                });
                
                document.getElementById('city').addEventListener('change', () => {
                    this.updateProgressBar();
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ø¬Ù†Ø³ ÙˆØ§Ù„Ø¬Ù†Ø³ÙŠØ©
                document.getElementById('gender').addEventListener('change', (e) => {
                    this.formState.selectedGender = e.target.value;
                    if (this.formState.selectedCollege) {
                        this.updateSpecializationsByCollege(this.formState.selectedCollege);
                    }
                    this.updateProgressBar();
                });
                
                document.getElementById('nationality').addEventListener('change', (e) => {
                    const idField = document.getElementById('idNumber');
                    if (e.target.value === 'Ø³Ø¹ÙˆØ¯ÙŠ') {
                        idField.placeholder = 'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ© (10 Ø£Ø±Ù‚Ø§Ù…)';
                        idField.pattern = '^1[0-9]{9}$';
                    } else {
                        idField.placeholder = 'Ø£Ø¯Ø®Ù„ Ø±Ù‚Ù… Ø§Ù„Ø¥Ù‚Ø§Ù…Ø© (10 Ø£Ùˆ 11 Ø±Ù‚Ù…Ù‹Ø§)';
                        idField.pattern = '^2[0-9]{9,10}$';
                    }
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªØ­Ù‚Ù‚ Ø§Ù„ÙÙˆØ±ÙŠ
                document.getElementById('idNumber').addEventListener('input', (e) => {
                    this.validateIdNumber(e.target.value);
                    this.updateProgressBar();
                });
                
                document.getElementById('phoneNumber').addEventListener('input', (e) => {
                    this.validatePhoneNumber(e.target.value);
                    this.updateProgressBar();
                });
                
                document.getElementById('email').addEventListener('input', (e) => {
                    this.validateEmail(e.target.value);
                    this.updateProgressBar();
                });
                
                document.getElementById('average').addEventListener('input', (e) => {
                    this.validateAverage(e.target.value);
                    this.updateProgressBar();
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ù„ Ù„Ù„ØªØ¬Ø³ÙŠØ±
                document.querySelectorAll('.gpa-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('.gpa-option').forEach(o => {
                            o.classList.remove('selected');
                        });
                        e.currentTarget.classList.add('selected');
                        
                        const system = e.currentTarget.dataset.value;
                        document.getElementById('bridgingGpaSystem').value = system;
                        
                        const gpaInput = document.getElementById('diplomaGPA');
                        switch(system) {
                            case '5':
                                gpaInput.min = '2';
                                gpaInput.max = '5';
                                gpaInput.placeholder = 'Ù…Ù† 2 Ø¥Ù„Ù‰ 5';
                                break;
                            case '4':
                                gpaInput.min = '1';
                                gpaInput.max = '4';
                                gpaInput.placeholder = 'Ù…Ù† 1 Ø¥Ù„Ù‰ 4';
                                break;
                            case '100':
                                gpaInput.min = '50';
                                gpaInput.max = '100';
                                gpaInput.placeholder = 'Ù…Ù† 50% Ø¥Ù„Ù‰ 100%';
                                break;
                        }
                    });
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ø±ÙØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª
                this.initializeFileUpload();
                
                // Ø£Ø­Ø¯Ø§Ø« ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
                document.querySelectorAll('input, select, textarea').forEach(field => {
                    field.addEventListener('input', () => this.updateProgressBar());
                    field.addEventListener('change', () => this.updateProgressBar());
                });
                
                // Ø­Ø¯Ø« Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
                document.getElementById('registrationForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.handleFormSubmit();
                });
                
                // Ø£Ø­Ø¯Ø§Ø« Ø£Ø®Ø±Ù‰
                document.getElementById('studyType').addEventListener('change', (e) => {
                    const paymentWarning = document.getElementById('paymentWarning');
                    const paymentCheckbox = document.getElementById('paymentCheckbox');
                    
                    if (e.target.value === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯' || e.target.value === 'ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬') {
                        paymentWarning.style.display = 'block';
                        paymentCheckbox.classList.remove('hidden');
                    } else {
                        paymentWarning.style.display = 'none';
                        paymentCheckbox.classList.add('hidden');
                    }
                    
                    this.updateProgressBar();
                });
                
                document.getElementById('firstPreference').addEventListener('change', () => {
                    this.updateSecondPreferenceOptions();
                    this.updateProgressBar();
                });
            }
            
            // ========== Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ ==========
            
            async handleFormSubmit() {
                if (!this.validateForm()) {
                    alert('âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØµØ­ÙŠØ­ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ ÙÙŠ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„.');
                    return;
                }
                
                const submitBtn = document.getElementById('submitBtn');
                const originalBtnHTML = submitBtn.innerHTML;
                
                // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø²Ø± ÙˆØ¹Ø±Ø¶ Ø§Ù„ØªØ­Ù…ÙŠÙ„
                submitBtn.innerHTML = '<span class="loading"></span> Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„...';
                submitBtn.disabled = true;
                
                try {
                    // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const formData = this.collectFormData();
                    
                    // ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„
                    const confirmation = this.getConfirmationMessage();
                    if (!confirm(confirmation)) {
                        throw new Error('ØªÙ… Ø¥Ù„ØºØ§Ø¡ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„');
                    }
                    
                    // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
                    const result = await this.submitForm(formData);
                    
                    if (result.success) {
                        this.showSuccessMessage(result.applicationId);
                        this.resetForm();
                    } else {
                        throw new Error(result.message);
                    }
                } catch (error) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø¥Ø±Ø³Ø§Ù„:', error);
                    alert(`Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨:\n\n${error.message}\n\nÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.`);
                    submitBtn.innerHTML = originalBtnHTML;
                    submitBtn.disabled = false;
                }
            }
            
            collectFormData() {
                const formData = {};
                const formElements = document.getElementById('registrationForm').elements;
                
                for (let element of formElements) {
                    if (element.name && !element.disabled) {
                        if (element.type === 'checkbox') {
                            formData[element.name] = element.checked;
                        } else if (element.type === 'file') {
                            // ØªÙ… Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø´ÙƒÙ„ Ù…Ù†ÙØµÙ„
                        } else {
                            formData[element.name] = element.value;
                        }
                    }
                }
                
                // Ø¥Ø¶Ø§ÙØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
                formData['Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…_ÙƒØ§Ù…Ù„'] = document.querySelector('.applicant-type.selected h3').textContent;
                formData['Ø§Ù„ÙˆÙ‚Øª'] = new Date().toLocaleString('ar-SA');
                formData['Ø§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª_Ø§Ù„Ù…Ø±ÙÙˆØ¹Ø©'] = Object.keys(this.formState.uploadedFiles)
                    .filter(key => this.formState.uploadedFiles[key])
                    .map(key => `${key}: ${this.formState.uploadedFiles[key].name}`);
                
                return formData;
            }
            
            getConfirmationMessage() {
                const studyType = document.getElementById('studyType').value;
                const applicantType = this.formState.currentApplicantType;
                
                let message = 'ğŸ“‹ ØªØ£ÙƒÙŠØ¯ Ø¥Ø±Ø³Ø§Ù„ Ø·Ù„Ø¨ Ø§Ù„ØªØ³Ø¬ÙŠÙ„\n\n';
                
                if (studyType === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯' || studyType === 'ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬') {
                    message += 'ğŸ’° ØªÙ†Ø¨ÙŠÙ‡: Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„Ø°ÙŠ Ø§Ø®ØªØ±ØªÙ‡ Ø¨Ø±Ø³ÙˆÙ… Ø¯Ø±Ø§Ø³ÙŠØ©.\n';
                }
                
                if (applicantType === 'bridging') {
                    message += 'ğŸ“ Ù…Ù„Ø§Ø­Ø¸Ø©: Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ± ÙŠØªØ·Ù„Ø¨ Ø¥Ø±ÙØ§Ù‚ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ….\n';
                }
                
                message += '\nÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¹Ù„Ù…:\n';
                message += 'âœ… Ø§Ù„Ø¯ÙØ¹ Ù„Ø§ ÙŠØªÙ… Ø§Ù„Ø¢Ù†\n';
                message += 'âœ… Ø³ÙŠÙƒÙˆÙ† Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ù…Ø±Ø§Ø¬Ø¹Ø© Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©\n';
                message += 'âœ… Ø³ØªØµÙ„Ùƒ Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯ Ø¹Ù„Ù‰ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ\n\n';
                message += 'Ù‡Ù„ ØªØ±ÙŠØ¯ Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø©ØŸ';
                
                return message;
            }
            
            showSuccessMessage(applicationId) {
                const formContainer = document.getElementById('formContainer');
                const successMessage = document.getElementById('successMessage');
                
                formContainer.style.display = 'none';
                successMessage.style.display = 'block';
                
                // Ø¥Ø¶Ø§ÙØ© Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨
                const appIdElement = document.createElement('p');
                appIdElement.innerHTML = `<span class="highlight">ğŸ“‹ Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨: <strong>${applicationId}</strong></span>`;
                successMessage.insertBefore(appIdElement, successMessage.children[3]);
                
                // Ø¥Ø¶Ø§ÙØ© Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø®Ø§ØµØ©
                this.addSpecialNotes();
                
                // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¹Ù„Ù‰
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
                
                console.log('ğŸ‰ ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ù†Ø¬Ø§Ø­!');
            }
            
            addSpecialNotes() {
                const successDiv = document.getElementById('successMessage');
                const studyType = document.getElementById('studyType').value;
                const applicantType = this.formState.currentApplicantType;
                
                if (applicantType === 'bridging') {
                    const bridgingNote = document.createElement('div');
                    bridgingNote.className = 'alert alert-info';
                    bridgingNote.style.marginTop = '20px';
                    bridgingNote.innerHTML = `
                        <i class="fas fa-university"></i>
                        <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ø¨Ø±Ù†Ø§Ù…Ø¬ Ø§Ù„ØªØ¬Ø³ÙŠØ±:</strong> ÙŠØ¬Ø¨ Ø¥Ø­Ø¶Ø§Ø± Ø£ØµÙ„ Ø´Ù‡Ø§Ø¯Ø© Ø§Ù„Ø¯Ø¨Ù„ÙˆÙ… ÙˆØ¨ÙŠØ§Ù† Ø§Ù„Ø¯Ø±Ø¬Ø§Øª Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©.
                    `;
                    successDiv.appendChild(bridgingNote);
                }
                
                if (studyType === 'ØªØ¹Ù„ÙŠÙ… Ø¹Ù† Ø¨Ø¹Ø¯' || studyType === 'ØªØ¹Ù„ÙŠÙ… Ù…Ø¯Ù…Ø¬') {
                    const feesNote = document.createElement('div');
                    feesNote.className = 'alert alert-warning';
                    feesNote.style.marginTop = '20px';
                    feesNote.innerHTML = `
                        <i class="fas fa-money-bill-wave"></i>
                        <strong>Ù…Ù„Ø§Ø­Ø¸Ø© Ø®Ø§ØµØ© Ø¨Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©:</strong> Ø³ÙŠØªÙ… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹Ùƒ Ù…Ù† Ù‚Ø¨Ù„ Ø§Ù„Ø´Ø¤ÙˆÙ† Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ© Ù„ØªÙˆØ¶ÙŠØ­ Ø¢Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ ÙˆØ§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©.
                    `;
                    successDiv.appendChild(feesNote);
                }
            }
            
            resetForm() {
                document.getElementById('registrationForm').reset();
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¸Ù‡Ø±
                document.querySelectorAll('.applicant-type').forEach(t => t.classList.remove('selected'));
                document.getElementById('applicantNew').classList.add('selected');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„
                this.updateApplicantType('new');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ø¯Ù† ÙˆØ§Ù„ÙƒÙ„ÙŠØ§Øª
                document.getElementById('city').innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø£ÙˆÙ„Ø§Ù‹</option>';
                document.getElementById('city').disabled = true;
                document.getElementById('programType').innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ø±Ù†Ø§Ù…Ø¬</option>';
                document.getElementById('firstPreference').innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
                document.getElementById('secondPreference').innerHTML = '<option value="">Ø§Ø®ØªØ± Ø§Ù„ØªØ®ØµØµ</option>';
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù…Ù„ÙØ§Øª
                Object.keys(this.formState.uploadedFiles).forEach(key => {
                    this.formState.uploadedFiles[key] = null;
                });
                
                document.querySelectorAll('.file-list').forEach(list => {
                    list.innerHTML = '';
                });
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù…Ø¤Ø´Ø± Ù†ÙˆØ¹ Ø§Ù„Ù‡ÙˆÙŠØ©
                document.getElementById('idTypeIndicator').style.display = 'none';
                document.getElementById('idValidation').style.display = 'none';
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø¹Ø¯Ù„
                document.querySelectorAll('.gpa-option').forEach(o => o.classList.remove('selected'));
                document.querySelector('.gpa-option[data-value="5"]').classList.add('selected');
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„ØªÙˆØµÙŠØ§Øª
                document.getElementById('gpaRecommendation').style.display = 'none';
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª Ø§Ù„ØªØ­Ù‚Ù‚
                document.querySelectorAll('.validation-icon').forEach(icon => {
                    icon.style.display = 'none';
                });
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
                this.updateProgressBar();
                
                // ØªÙˆÙ„ÙŠØ¯ Ø±Ù‚Ù… Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
                this.generateApplicationId();
            }
        }
        
        // âœ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…
        const admissionSystem = new GulfCollegeAdmissionSystem();
        
        // âœ… Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
        function createAdminPanel() {
            const adminToggle = document.getElementById('adminToggle');
            adminToggle.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
                const adminPanel = document.createElement('div');
                adminPanel.id = 'adminPanel';
                adminPanel.style.cssText = `
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    background: white;
                    padding: 30px;
                    border-radius: 15px;
                    box-shadow: 0 10px 40px rgba(0,0,0,0.3);
                    z-index: 10000;
                    width: 90%;
                    max-width: 800px;
                    max-height: 80vh;
                    overflow-y: auto;
                `;
                
                // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
                const applications = JSON.parse(localStorage.getItem('gulfCollegeApplications') || '[]');
                
                let adminHTML = `
                    <div style="text-align: center; margin-bottom: 30px;">
                        <h2 style="color: var(--primary-color); margin-bottom: 10px;">
                            <i class="fas fa-cogs"></i> Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©
                        </h2>
                        <p style="color: var(--gray-dark);">ÙƒÙ„ÙŠØ© Ø§Ù„Ø®Ù„ÙŠØ¬ - Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø¨ÙˆÙ„ ÙˆØ§Ù„ØªØ³Ø¬ÙŠÙ„</p>
                    </div>
                    
                    <div style="margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                        <h3 style="color: var(--primary-dark);">
                            <i class="fas fa-list"></i> Ø§Ù„Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© (${applications.length})
                        </h3>
                        <button id="closeAdmin" style="background: var(--error-color); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer;">
                            <i class="fas fa-times"></i> Ø¥ØºÙ„Ø§Ù‚
                        </button>
                    </div>
                `;
                
                if (applications.length === 0) {
                    adminHTML += `
                        <div class="alert alert-info">
                            <i class="fas fa-info-circle"></i>
                            Ù„Ø§ ØªÙˆØ¬Ø¯ Ø·Ù„Ø¨Ø§Øª Ù…Ù‚Ø¯Ù…Ø© Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.
                        </div>
                    `;
                } else {
                    adminHTML += `
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="background: var(--primary-color); color: white;">
                                        <th style="padding: 12px; text-align: right;">Ø±Ù‚Ù… Ø§Ù„Ø·Ù„Ø¨</th>
                                        <th style="padding: 12px; text-align: right;">Ø§Ù„Ø§Ø³Ù…</th>
                                        <th style="padding: 12px; text-align: right;">Ù†ÙˆØ¹ Ø§Ù„Ù…ØªÙ‚Ø¯Ù…</th>
                                        <th style="padding: 12px; text-align: right;">Ø§Ù„ÙƒÙ„ÙŠØ©</th>
                                        <th style="padding: 12px; text-align: right;">Ø§Ù„ØªØ®ØµØµ</th>
                                        <th style="padding: 12px; text-align: right;">Ø§Ù„Ø­Ø§Ù„Ø©</th>
                                        <th style="padding: 12px; text-align: right;">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                    </tr>
                                </thead>
                                <tbody>
                    `;
                    
                    applications.forEach((app, index) => {
                        const statusColors = {
                            pending: 'var(--warning-color)',
                            accepted: 'var(--success-color)',
                            rejected: 'var(--error-color)'
                        };
                        
                        adminHTML += `
                            <tr style="border-bottom: 1px solid var(--gray-medium);">
                                <td style="padding: 12px;">${app.id}</td>
                                <td style="padding: 12px;">${app.data.Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„ || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                                <td style="padding: 12px;">${app.data.Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù…_ÙƒØ§Ù…Ù„ || app.data.Ù†ÙˆØ¹_Ø§Ù„Ù…ØªÙ‚Ø¯Ù… || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                                <td style="padding: 12px;">${app.data.Ø§Ù„ÙƒÙ„ÙŠØ© || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                                <td style="padding: 12px;">${app.data.Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø£ÙˆÙ„ || 'ØºÙŠØ± Ù…Ø­Ø¯Ø¯'}</td>
                                <td style="padding: 12px;">
                                    <span style="background: ${statusColors[app.status] || '#ccc'}; color: white; padding: 5px 10px; border-radius: 20px; font-size: 12px;">
                                        ${app.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©' : 
                                          app.status === 'accepted' ? 'Ù…Ù‚Ø¨ÙˆÙ„' : 'Ù…Ø±ÙÙˆØ¶'}
                                    </span>
                                </td>
                                <td style="padding: 12px;">
                                    <button onclick="changeApplicationStatus('${app.id}', 'accepted')" style="background: var(--success-color); color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-left: 5px; cursor: pointer;">
                                        <i class="fas fa-check"></i>
                                    </button>
                                    <button onclick="changeApplicationStatus('${app.id}', 'rejected')" style="background: var(--error-color); color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-left: 5px; cursor: pointer;">
                                        <i class="fas fa-times"></i>
                                    </button>
                                    <button onclick="viewApplicationDetails(${index})" style="background: var(--primary-color); color: white; border: none; padding: 5px 10px; border-radius: 3px; margin-left: 5px; cursor: pointer;">
                                        <i class="fas fa-eye"></i>
                                    </button>
                                </td>
                            </tr>
                        `;
                    });
                    
                    adminHTML += `
                                </tbody>
                            </table>
                        </div>
                        
                        <div style="margin-top: 30px; padding: 20px; background: var(--gray-light); border-radius: 10px;">
                            <h4 style="color: var(--primary-dark); margin-bottom: 15px;">
                                <i class="fas fa-chart-bar"></i> Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø©
                            </h4>
                            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px;">
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; color: var(--primary-color); font-weight: bold;">${applications.length}</div>
                                    <div style="font-size: 14px; color: var(--gray-dark);">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø·Ù„Ø¨Ø§Øª</div>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; color: var(--success-color); font-weight: bold;">${applications.filter(a => a.status === 'accepted').length}</div>
                                    <div style="font-size: 14px; color: var(--gray-dark);">Ù…Ù‚Ø¨ÙˆÙ„</div>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; color: var(--warning-color); font-weight: bold;">${applications.filter(a => a.status === 'pending').length}</div>
                                    <div style="font-size: 14px; color: var(--gray-dark);">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©</div>
                                </div>
                                <div style="background: white; padding: 15px; border-radius: 8px; text-align: center;">
                                    <div style="font-size: 24px; color: var(--error-color); font-weight: bold;">${applications.filter(a => a.status === 'rejected').length}</div>
                                    <div style="font-size: 14px; color: var(--gray-dark);">Ù…Ø±ÙÙˆØ¶</div>
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                adminPanel.innerHTML = adminHTML;
                document.body.appendChild(adminPanel);
                
                // Ø¥Ø¶Ø§ÙØ© Ø­Ø¯Ø« Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù„ÙˆØ­Ø©
                document.getElementById('closeAdmin').addEventListener('click', function() {
                    document.body.removeChild(adminPanel);
                });
                
                // Ù…Ù†Ø¹ Ø§Ù†ØªØ´Ø§Ø± Ø§Ù„Ø­Ø¯Ø«
                adminPanel.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            });
            
            // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù„Ø³ÙŠØ§Ù‚ Ø§Ù„Ø¹Ø§Ù…
            window.changeApplicationStatus = function(appId, status) {
                const applications = JSON.parse(localStorage.getItem('gulfCollegeApplications') || '[]');
                const appIndex = applications.findIndex(a => a.id === appId);
                
                if (appIndex !== -1) {
                    applications[appIndex].status = status;
                    localStorage.setItem('gulfCollegeApplications', JSON.stringify(applications));
                    alert(`ØªÙ… ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨ ${appId} Ø¥Ù„Ù‰ ${status === 'accepted' ? 'Ù…Ù‚Ø¨ÙˆÙ„' : 'Ù…Ø±ÙÙˆØ¶'}`);
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙˆØ­Ø©
                    document.body.removeChild(document.getElementById('adminPanel'));
                    createAdminPanel();
                    document.getElementById('adminToggle').click();
                }
            };
            
            window.viewApplicationDetails = function(index) {
                const applications = JSON.parse(localStorage.getItem('gulfCollegeApplications') || '[]');
                const app = applications[index];
                
                let detailsHTML = `
                    <div style="background: white; padding: 20px; border-radius: 10px; max-width: 600px;">
                        <h3 style="color: var(--primary-color); margin-bottom: 20px; display: flex; justify-content: space-between; align-items: center;">
                            <span><i class="fas fa-file-alt"></i> ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø·Ù„Ø¨ ${app.id}</span>
                            <button onclick="this.parentElement.parentElement.parentElement.remove()" style="background: var(--error-color); color: white; border: none; width: 30px; height: 30px; border-radius: 50%; cursor: pointer;">
                                <i class="fas fa-times"></i>
                            </button>
                        </h3>
                        <div style="max-height: 400px; overflow-y: auto;">
                `;
                
                // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
                detailsHTML += `
                    <div style="margin-bottom: 20px; padding: 15px; background: var(--gray-light); border-radius: 8px;">
                        <h4 style="color: var(--primary-dark); margin-bottom: 10px;"><i class="fas fa-user"></i> Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                `;
                
                if (app.data.Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„) detailsHTML += `<div><strong>Ø§Ù„Ø§Ø³Ù…:</strong> ${app.data.Ø§Ù„Ø§Ø³Ù…_Ø§Ù„ÙƒØ§Ù…Ù„}</div>`;
                if (app.data.Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©) detailsHTML += `<div><strong>Ø±Ù‚Ù… Ø§Ù„Ù‡ÙˆÙŠØ©:</strong> ${app.data.Ø±Ù‚Ù…_Ø§Ù„Ù‡ÙˆÙŠØ©}</div>`;
                if (app.data.Ø§Ù„Ø¬Ù†Ø³) detailsHTML += `<div><strong>Ø§Ù„Ø¬Ù†Ø³:</strong> ${app.data.Ø§Ù„Ø¬Ù†Ø³}</div>`;
                if (app.data.Ø§Ù„Ø¬Ù†Ø³ÙŠØ©) detailsHTML += `<div><strong>Ø§Ù„Ø¬Ù†Ø³ÙŠØ©:</strong> ${app.data.Ø§Ù„Ø¬Ù†Ø³ÙŠØ©}</div>`;
                
                detailsHTML += `
                        </div>
                    </div>
                `;
                
                // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„
                detailsHTML += `
                    <div style="margin-bottom: 20px; padding: 15px; background: var(--gray-light); border-radius: 8px;">
                        <h4 style="color: var(--primary-dark); margin-bottom: 10px;"><i class="fas fa-phone"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§ØªØµØ§Ù„</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                `;
                
                if (app.data.Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„) detailsHTML += `<div><strong>Ø§Ù„Ø¬ÙˆØ§Ù„:</strong> ${app.data.Ø±Ù‚Ù…_Ø§Ù„Ø¬ÙˆØ§Ù„}</div>`;
                if (app.data.Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ) detailsHTML += `<div><strong>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</strong> ${app.data.Ø§Ù„Ø¨Ø±ÙŠØ¯_Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ}</div>`;
                if (app.data.Ø§Ù„Ù…Ù†Ø·Ù‚Ø©) detailsHTML += `<div><strong>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©:</strong> ${app.data.Ø§Ù„Ù…Ù†Ø·Ù‚Ø©}</div>`;
                if (app.data.Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©) detailsHTML += `<div><strong>Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©:</strong> ${app.data.Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©}</div>`;
                
                detailsHTML += `
                        </div>
                    </div>
                `;
                
                // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©
                detailsHTML += `
                    <div style="margin-bottom: 20px; padding: 15px; background: var(--gray-light); border-radius: 8px;">
                        <h4 style="color: var(--primary-dark); margin-bottom: 10px;"><i class="fas fa-graduation-cap"></i> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠØ©</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                `;
                
                if (app.data.Ø§Ù„ÙƒÙ„ÙŠØ©) detailsHTML += `<div><strong>Ø§Ù„ÙƒÙ„ÙŠØ©:</strong> ${app.data.Ø§Ù„ÙƒÙ„ÙŠØ©}</div>`;
                if (app.data.Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø£ÙˆÙ„) detailsHTML += `<div><strong>Ø§Ù„ØªØ®ØµØµ:</strong> ${app.data.Ø§Ù„ØªØ®ØµØµ_Ø§Ù„Ø£ÙˆÙ„}</div>`;
                if (app.data.Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©) detailsHTML += `<div><strong>Ù†ÙˆØ¹ Ø§Ù„Ø¯Ø±Ø§Ø³Ø©:</strong> ${app.data.Ù†ÙˆØ¹_Ø§Ù„Ø¯Ø±Ø§Ø³Ø©}</div>`;
                if (app.data.Ø§Ù„Ù…Ø¹Ø¯Ù„) detailsHTML += `<div><strong>Ø§Ù„Ù…Ø¹Ø¯Ù„:</strong> ${app.data.Ø§Ù„Ù…Ø¹Ø¯Ù„}</div>`;
                
                detailsHTML += `
                        </div>
                    </div>
                `;
                
                // Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨
                const statusColors = {
                    pending: 'var(--warning-color)',
                    accepted: 'var(--success-color)',
                    rejected: 'var(--error-color)'
                };
                
                detailsHTML += `
                    <div style="padding: 15px; background: ${statusColors[app.status] || '#ccc'}20; border: 2px solid ${statusColors[app.status] || '#ccc'}; border-radius: 8px;">
                        <h4 style="color: ${statusColors[app.status] || '#ccc'}; margin-bottom: 10px;"><i class="fas fa-info-circle"></i> Ø­Ø§Ù„Ø© Ø§Ù„Ø·Ù„Ø¨</h4>
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span style="background: ${statusColors[app.status] || '#ccc'}; color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold;">
                                ${app.status === 'pending' ? 'Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø±Ø§Ø¬Ø¹Ø©' : 
                                  app.status === 'accepted' ? 'Ù…Ù‚Ø¨ÙˆÙ„' : 'Ù…Ø±ÙÙˆØ¶'}
                            </span>
                            <span style="color: var(--gray-dark);">Ø¨ØªØ§Ø±ÙŠØ®: ${new Date(app.timestamp).toLocaleString('ar-SA')}</span>
                        </div>
                    </div>
                `;
                
                detailsHTML += `
                        </div>
                    </div>
                `;
                
                const detailsPanel = document.createElement('div');
                detailsPanel.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0,0,0,0.5);
                    z-index: 10001;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    padding: 20px;
                `;
                detailsPanel.innerHTML = detailsHTML;
                
                document.body.appendChild(detailsPanel);
            };
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…
        createAdminPanel();
    });
    </script>
</body>
  </html>
